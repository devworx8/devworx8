app.json:268:      "DAILY_API_KEY": "[REDACTED_DAILY_API_KEY]"
tests/e2e/homework-grading-calls.e2e.test.ts:345:    const dailyApiKey = process.env.EXPO_PUBLIC_DAILY_API_KEY;
tests/e2e/homework-grading-calls.e2e.test.ts:347:    if (!dailyApiKey || dailyApiKey === '${DAILY_API_KEY}') {
CODEBASE_REVIEW_SUMMARY.md:12:- **Issue**: Service role key was exposed in a file at repository root: `t EDUSITE_SERVICE_ROLE_KEY = ...`
CODEBASE_REVIEW_SUMMARY.md:64:*SERVICE_ROLE_KEY*
CODEBASE_REVIEW_SUMMARY.md:65:*EDUSITE*KEY*
CODEBASE_REVIEW_SUMMARY.md:102:- `t EDUSITE_SERVICE_ROLE_KEY = ...` (exposed key)
services/PictureOfProgressAI.ts:96:          'apikey': SUPABASE_ANON_KEY,
supabase/functions/explain-answer/index.ts:18:const SUPABASE_SERVICE_ROLE_KEY = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY');
supabase/functions/explain-answer/index.ts:21:if (!SUPABASE_SERVICE_ROLE_KEY) {
supabase/functions/explain-answer/index.ts:22:  throw new Error('SUPABASE_SERVICE_ROLE_KEY is required');
supabase/functions/explain-answer/index.ts:49:    const supabase = createClient(SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY!);
supabase/functions/payments-registration-fee/index.ts:16:const SUPABASE_SERVICE_ROLE_KEY = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY');
supabase/functions/payments-registration-fee/index.ts:22:if (!SUPABASE_SERVICE_ROLE_KEY) {
supabase/functions/payments-registration-fee/index.ts:23:  throw new Error('SUPABASE_SERVICE_ROLE_KEY is required');
supabase/functions/payments-registration-fee/index.ts:80:    const supabase = createClient(SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY!);
supabase/functions/create-teacher-account/index.ts:57:    const supabaseServiceKey = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY')!;
supabase/functions/send-fcm-call/index.ts:26:const SUPABASE_SERVICE_ROLE_KEY = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY') ?? '';
supabase/functions/send-fcm-call/index.ts:71:  'Access-Control-Allow-Headers': 'authorization, x-client-info, apikey, content-type',
supabase/functions/send-fcm-call/index.ts:316:    const supabase = createClient(SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY);
supabase/functions/fee-reminders-cron/index.ts:11:const SUPABASE_SERVICE_ROLE_KEY = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY')!;
supabase/functions/fee-reminders-cron/index.ts:45:    const isServiceRole = token === SUPABASE_SERVICE_ROLE_KEY;
supabase/functions/fee-reminders-cron/index.ts:65:    const supabase = createClient(SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY);
supabase/functions/generate-exam/index.ts:18:const SUPABASE_SERVICE_ROLE_KEY = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY');
supabase/functions/generate-exam/index.ts:21:if (!SUPABASE_SERVICE_ROLE_KEY) {
supabase/functions/generate-exam/index.ts:22:  throw new Error('SUPABASE_SERVICE_ROLE_KEY is required');
supabase/functions/generate-exam/index.ts:82:    const supabase = createClient(SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY!);
supabase/functions/social-agent-daily-cron/index.ts:15:const SUPABASE_SERVICE_ROLE_KEY = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY') || '';
supabase/functions/social-agent-daily-cron/index.ts:20:  'Access-Control-Allow-Headers': 'authorization, x-client-info, apikey, content-type',
supabase/functions/social-agent-daily-cron/index.ts:226:    if (!SUPABASE_URL || !SUPABASE_SERVICE_ROLE_KEY) {
supabase/functions/social-agent-daily-cron/index.ts:230:    const supabase = createClient(SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY, { auth: { persistSession: false } });
supabase/functions/_shared/cors.ts:54:    'Access-Control-Allow-Headers': 'authorization, x-client-info, apikey, content-type',
supabase/functions/aftercare-email/index.ts:15:const SUPABASE_SERVICE_ROLE_KEY = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY');
supabase/functions/aftercare-email/index.ts:17:if (!SUPABASE_SERVICE_ROLE_KEY) {
supabase/functions/aftercare-email/index.ts:18:  throw new Error('SUPABASE_SERVICE_ROLE_KEY is required');
supabase/functions/aftercare-email/index.ts:33:    const supabase = createClient(SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY!);
supabase/functions/sync-campaign-to-edusite/index.ts:9:  'Access-Control-Allow-Headers': 'authorization, x-client-info, apikey, content-type',
supabase/functions/sync-campaign-to-edusite/index.ts:77:    const edusiteKey = Deno.env.get('EDUSITE_SUPABASE_SERVICE_ROLE_KEY');
supabase/functions/sync-campaign-to-edusite/index.ts:93:      const supabaseKey = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY');
supabase/functions/social-facebook-connect/index.ts:7:  'Access-Control-Allow-Headers': 'authorization, x-client-info, apikey, content-type',
supabase/functions/social-facebook-connect/index.ts:111:    const serviceKey = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY') || '';
SECURITY_NOTES.md:36:- Any file containing `SERVICE_ROLE_KEY`
SECURITY_NOTES.md:46:- `*SERVICE_ROLE_KEY*`
SECURITY_NOTES.md:47:- `*EDUSITE*KEY*`
supabase/functions/daily-rooms/index.ts:10:const DAILY_API_KEY = Deno.env.get('DAILY_API_KEY');
supabase/functions/daily-rooms/index.ts:13:const SUPABASE_SERVICE_ROLE_KEY = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY') ?? '';
supabase/functions/daily-rooms/index.ts:46:  'Access-Control-Allow-Headers': 'authorization, x-client-info, apikey, content-type',
supabase/functions/daily-rooms/index.ts:66:    if (!DAILY_API_KEY) {
supabase/functions/daily-rooms/index.ts:67:      console.error('[Daily Rooms] DAILY_API_KEY is not configured');
supabase/functions/daily-rooms/index.ts:72:          code: 'DAILY_API_KEY_MISSING',
supabase/functions/daily-rooms/index.ts:90:    const supabase = createClient(SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY, {
supabase/functions/daily-rooms/index.ts:198:        'Authorization': `Bearer ${DAILY_API_KEY}`,
supabase/functions/transcribe-audio/index.ts:18:const SUPABASE_SERVICE_ROLE_KEY = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY');
supabase/functions/transcribe-audio/index.ts:21:if (!SUPABASE_SERVICE_ROLE_KEY) {
supabase/functions/transcribe-audio/index.ts:22:  throw new Error('SUPABASE_SERVICE_ROLE_KEY is required');
supabase/functions/transcribe-audio/index.ts:48:    const supabase = createClient(SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY!);
supabase/functions/transcribe-chunk/index.ts:21:const SUPABASE_SERVICE_ROLE_KEY = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY');
supabase/functions/transcribe-chunk/index.ts:25:if (!SUPABASE_SERVICE_ROLE_KEY) {
supabase/functions/transcribe-chunk/index.ts:26:  throw new Error('SUPABASE_SERVICE_ROLE_KEY is required');
supabase/functions/transcribe-chunk/index.ts:41:    const supabase = createClient(SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY!);
supabase/functions/remove-teacher/index.ts:17:    'authorization, x-client-info, apikey, content-type',
supabase/functions/remove-teacher/index.ts:35:    const serviceKey = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY')!;
supabase/functions/get-secrets/index.ts:16:const SUPABASE_SERVICE_ROLE_KEY = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY');
supabase/functions/get-secrets/index.ts:18:if (!SUPABASE_SERVICE_ROLE_KEY) {
supabase/functions/get-secrets/index.ts:19:  throw new Error('SUPABASE_SERVICE_ROLE_KEY is required');
supabase/functions/get-secrets/index.ts:25:  'DAILY_API_KEY',
supabase/functions/get-secrets/index.ts:40:    const supabase = createClient(SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY!);
supabase/functions/ai-insights/index.ts:16:const SUPABASE_SERVICE_ROLE_KEY = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY');
supabase/functions/ai-insights/index.ts:19:if (!SUPABASE_SERVICE_ROLE_KEY) {
supabase/functions/ai-insights/index.ts:20:  throw new Error('SUPABASE_SERVICE_ROLE_KEY is required');
supabase/functions/ai-insights/index.ts:35:    const supabase = createClient(SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY!);
supabase/functions/send-aftercare-payment-verified/index.ts:11:const SUPABASE_SERVICE_ROLE_KEY = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY') || '';
supabase/functions/send-aftercare-payment-verified/index.ts:18:  'Access-Control-Allow-Headers': 'authorization, x-client-info, apikey, content-type',
supabase/functions/send-aftercare-payment-verified/index.ts:124:    if (SUPABASE_SERVICE_ROLE_KEY) {
supabase/functions/send-aftercare-payment-verified/index.ts:126:        const supabase = createClient(SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY);
supabase/functions/birthday-reminders-cron/index.ts:16:const SUPABASE_SERVICE_ROLE_KEY = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY')!
supabase/functions/birthday-reminders-cron/index.ts:92:    const isServiceRole = token === SUPABASE_SERVICE_ROLE_KEY;
supabase/functions/birthday-reminders-cron/index.ts:116:    const supabase = createClient(SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY);
supabase/functions/payments-cancel-subscription/index.ts:17:  'Access-Control-Allow-Headers': 'authorization, x-client-info, apikey, content-type',
supabase/functions/payments-cancel-subscription/index.ts:85:    const supabaseServiceKey = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY')!;
supabase/functions/weekly-report-cron/index.ts:10:const SUPABASE_SERVICE_ROLE_KEY = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY')!
supabase/functions/weekly-report-cron/index.ts:23:    const supabase = createClient(SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY)
supabase/functions/weekly-report-cron/index.ts:69:            'Authorization': `Bearer ${SUPABASE_SERVICE_ROLE_KEY}`,
supabase/functions/payfast-webhook/index.ts:18:  'Access-Control-Allow-Headers': 'authorization, x-client-info, apikey, content-type',
supabase/functions/payfast-webhook/index.ts:168:    const supabaseServiceKey = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY')!;
supabase/functions/payfast-webhook/index.ts:426:        Deno.env.get('SUPABASE_SERVICE_ROLE_KEY')!
supabase/functions/superadmin-set-temp-password/index.ts:10:const SUPABASE_SERVICE_ROLE_KEY = Deno.env.get("SUPABASE_SERVICE_ROLE_KEY") || "";
supabase/functions/superadmin-set-temp-password/index.ts:14:  "Access-Control-Allow-Headers": "authorization, x-client-info, apikey, content-type",
supabase/functions/superadmin-set-temp-password/index.ts:67:  if (!SUPABASE_URL || !SUPABASE_ANON_KEY || !SUPABASE_SERVICE_ROLE_KEY) {
supabase/functions/superadmin-set-temp-password/index.ts:80:  const supabaseAdmin = createClient(SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY);
supabase/functions/superadmin-set-user-tier/index.ts:10:const SUPABASE_SERVICE_ROLE_KEY = Deno.env.get("SUPABASE_SERVICE_ROLE_KEY") || "";
supabase/functions/superadmin-set-user-tier/index.ts:14:  "Access-Control-Allow-Headers": "authorization, x-client-info, apikey, content-type",
supabase/functions/superadmin-set-user-tier/index.ts:71:  if (!SUPABASE_URL || !SUPABASE_ANON_KEY || !SUPABASE_SERVICE_ROLE_KEY) {
supabase/functions/superadmin-set-user-tier/index.ts:84:  const supabaseAdmin = createClient(SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY);
supabase/functions/birthday-montage/index.ts:16:  'Access-Control-Allow-Headers': 'authorization, x-client-info, apikey, content-type',
supabase/functions/birthday-montage/index.ts:93:    const supabaseServiceKey = getEnv('SUPABASE_SERVICE_ROLE_KEY');
supabase/functions/notifications-dispatcher/index.ts:215:const SUPABASE_SERVICE_ROLE_KEY = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY') || '';
supabase/functions/notifications-dispatcher/index.ts:220:const supabase = SUPABASE_URL && SUPABASE_SERVICE_ROLE_KEY
supabase/functions/notifications-dispatcher/index.ts:221:  ? createClient(SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY)
supabase/functions/notifications-dispatcher/index.ts:2955:          details: 'SUPABASE_URL and SUPABASE_SERVICE_ROLE_KEY are required.'
supabase/functions/notifications-dispatcher/index.ts:3570:        details: 'SUPABASE_URL and SUPABASE_SERVICE_ROLE_KEY are required.'
supabase/functions/notifications-dispatcher/index.ts:3664:  'Access-Control-Allow-Headers': 'authorization, x-client-info, apikey, content-type',
supabase/functions/send-email/index.ts:13:const SUPABASE_SERVICE_ROLE_KEY = Deno.env.get("SUPABASE_SERVICE_ROLE_KEY") || "";
supabase/functions/send-email/index.ts:22:  "Access-Control-Allow-Headers": "authorization, x-client-info, apikey, content-type",
supabase/functions/send-email/index.ts:48:    const isServiceRole = SUPABASE_SERVICE_ROLE_KEY && authHeader.includes(SUPABASE_SERVICE_ROLE_KEY);
supabase/functions/send-email/index.ts:55:    const adminClient = SUPABASE_SERVICE_ROLE_KEY
supabase/functions/send-email/index.ts:56:      ? createClient(SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY)
supabase/functions/ingest-file/index.ts:12:  'Access-Control-Allow-Headers': 'authorization, x-client-info, apikey, content-type',
supabase/functions/ingest-file/index.ts:71:    const serviceKey = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY') || '';
supabase/functions/payment-qr-generator/index.ts:16:const SUPABASE_SERVICE_ROLE_KEY = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY');
supabase/functions/payment-qr-generator/index.ts:18:if (!SUPABASE_SERVICE_ROLE_KEY) {
supabase/functions/payment-qr-generator/index.ts:19:  throw new Error('SUPABASE_SERVICE_ROLE_KEY is required');
supabase/functions/payment-qr-generator/index.ts:34:    const supabase = createClient(SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY!);
supabase/functions/generate-weekly-report/index.ts:10:const SUPABASE_SERVICE_ROLE_KEY = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY')!
supabase/functions/generate-weekly-report/index.ts:15:  'Access-Control-Allow-Headers': 'authorization, x-client-info, apikey, content-type',
supabase/functions/generate-weekly-report/index.ts:43:    const supabase = createClient(SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY)
supabase/functions/payfast-create-payment/index.ts:25:const SUPABASE_SERVICE_ROLE_KEY = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY');
supabase/functions/payfast-create-payment/index.ts:27:if (!SUPABASE_SERVICE_ROLE_KEY) {
supabase/functions/payfast-create-payment/index.ts:28:  throw new Error('SUPABASE_SERVICE_ROLE_KEY is required');
supabase/functions/payfast-create-payment/index.ts:82:    const supabase = createClient(SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY!);
supabase/functions/social-agent-generate/index.ts:7:  'Access-Control-Allow-Headers': 'authorization, x-client-info, apikey, content-type',
supabase/functions/social-agent-generate/index.ts:216:    const serviceKey = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY') || '';
supabase/functions/tts-proxy/index.ts:45:  'Access-Control-Allow-Headers': 'authorization, x-client-info, apikey, content-type',
supabase/functions/tts-proxy/index.ts:795:    const serviceKey = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY') || '';
supabase/functions/dash-context-sync/index.ts:5:  'Access-Control-Allow-Headers': 'authorization, x-client-info, apikey, content-type',
supabase/functions/dash-context-sync/index.ts:31:    const serviceKey = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY') || '';
supabase/functions/event-reminders-cron/index.ts:16:const SUPABASE_SERVICE_ROLE_KEY = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY')!
supabase/functions/event-reminders-cron/index.ts:48:    const isServiceRole = authHeader === `Bearer ${SUPABASE_SERVICE_ROLE_KEY}`;
supabase/functions/event-reminders-cron/index.ts:59:    const supabase = createClient(SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY);
supabase/functions/openai-realtime-token/index.ts:16:const SUPABASE_SERVICE_ROLE_KEY = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY');
supabase/functions/openai-realtime-token/index.ts:19:if (!SUPABASE_SERVICE_ROLE_KEY) {
supabase/functions/openai-realtime-token/index.ts:20:  throw new Error('SUPABASE_SERVICE_ROLE_KEY is required');
supabase/functions/openai-realtime-token/index.ts:39:    const supabase = createClient(SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY!);
supabase/functions/notify-parents-live-lesson/index.ts:16:const SUPABASE_SERVICE_ROLE_KEY = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY');
supabase/functions/notify-parents-live-lesson/index.ts:18:if (!SUPABASE_SERVICE_ROLE_KEY) {
supabase/functions/notify-parents-live-lesson/index.ts:19:  throw new Error('SUPABASE_SERVICE_ROLE_KEY is required');
supabase/functions/notify-parents-live-lesson/index.ts:45:    const supabase = createClient(SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY!);
supabase/functions/delete-account/index.ts:18:const SUPABASE_SERVICE_ROLE_KEY = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY');
supabase/functions/delete-account/index.ts:20:if (!SUPABASE_SERVICE_ROLE_KEY) {
supabase/functions/delete-account/index.ts:21:  throw new Error('SUPABASE_SERVICE_ROLE_KEY is required');
supabase/functions/delete-account/index.ts:48:    const supabase = createClient(SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY!);
supabase/functions/generate-invoice-pdf/index.ts:17:const SUPABASE_SERVICE_ROLE_KEY = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY');
supabase/functions/generate-invoice-pdf/index.ts:19:if (!SUPABASE_SERVICE_ROLE_KEY) {
supabase/functions/generate-invoice-pdf/index.ts:20:  throw new Error('SUPABASE_SERVICE_ROLE_KEY is required');
supabase/functions/generate-invoice-pdf/index.ts:35:    const supabase = createClient(SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY!);
supabase/functions/process-aftercare-enrollment/index.ts:17:  'Access-Control-Allow-Headers': 'authorization, x-client-info, apikey, content-type',
supabase/functions/process-aftercare-enrollment/index.ts:136:    const supabaseServiceKey = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY')!;
supabase/functions/validate-robotics-challenge/index.ts:19:const SUPABASE_SERVICE_ROLE_KEY = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY');
supabase/functions/validate-robotics-challenge/index.ts:21:if (!SUPABASE_SERVICE_ROLE_KEY) {
supabase/functions/validate-robotics-challenge/index.ts:22:  throw new Error('SUPABASE_SERVICE_ROLE_KEY is required');
supabase/functions/validate-robotics-challenge/index.ts:105:    const supabase = createClient(SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY!);
supabase/functions/send-progress-report/index.ts:9:  'Access-Control-Allow-Headers': 'authorization, x-client-info, apikey, content-type',
supabase/functions/send-progress-report/index.ts:45:    const supabaseServiceKey = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY')!;
supabase/functions/birthday-donations/index.ts:14:  'Access-Control-Allow-Headers': 'authorization, x-client-info, apikey, content-type',
supabase/functions/birthday-donations/index.ts:51:    const supabaseServiceKey = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY')!;
supabase/functions/build-notifier/index.ts:22:const SUPABASE_SERVICE_ROLE_KEY = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY')!;
supabase/functions/build-notifier/index.ts:111:    const isServiceRole = token === SUPABASE_SERVICE_ROLE_KEY;
supabase/functions/build-notifier/index.ts:145:    const supabase = createClient(SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY);
supabase/functions/daily-token/index.ts:10:const DAILY_API_KEY = Deno.env.get('DAILY_API_KEY');
supabase/functions/daily-token/index.ts:13:const SUPABASE_SERVICE_ROLE_KEY = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY') ?? '';
supabase/functions/daily-token/index.ts:28:  'Access-Control-Allow-Headers': 'authorization, x-client-info, apikey, content-type',
supabase/functions/daily-token/index.ts:48:    if (!DAILY_API_KEY) {
supabase/functions/daily-token/index.ts:49:      console.error('[Daily Token] DAILY_API_KEY is not configured');
supabase/functions/daily-token/index.ts:54:          code: 'DAILY_API_KEY_MISSING',
supabase/functions/daily-token/index.ts:72:    const supabase = createClient(SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY, {
supabase/functions/daily-token/index.ts:136:        'Authorization': `Bearer ${DAILY_API_KEY}`,
supabase/functions/social-facebook-publish/index.ts:7:  'Access-Control-Allow-Headers': 'authorization, x-client-info, apikey, content-type',
supabase/functions/social-facebook-publish/index.ts:99:    const serviceKey = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY') || '';
supabase/functions/create-organization-member/index.ts:20:  'Access-Control-Allow-Headers': 'authorization, x-client-info, apikey, content-type',
supabase/functions/create-organization-member/index.ts:50:    const supabaseServiceKey = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY')!;
supabase/functions/service-health-monitor/index.ts:5:const SUPABASE_SERVICE_ROLE_KEY = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY') || '';
supabase/functions/service-health-monitor/index.ts:150:  if (!SUPABASE_URL || !SUPABASE_SERVICE_ROLE_KEY) {
supabase/functions/service-health-monitor/index.ts:154:        error: 'SUPABASE_URL or SUPABASE_SERVICE_ROLE_KEY is missing',
supabase/functions/service-health-monitor/index.ts:163:  const supabaseAdmin = createClient(SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY);
supabase/functions/azure-speech-token/index.ts:13:  'Access-Control-Allow-Headers': 'authorization, x-client-info, apikey, content-type',
supabase/functions/dash-ai-automation/index.ts:16:const SUPABASE_SERVICE_ROLE_KEY = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY');
supabase/functions/dash-ai-automation/index.ts:19:if (!SUPABASE_SERVICE_ROLE_KEY) {
supabase/functions/dash-ai-automation/index.ts:20:  throw new Error('SUPABASE_SERVICE_ROLE_KEY is required');
supabase/functions/dash-ai-automation/index.ts:55:    const supabase = createClient(SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY!);
supabase/functions/birthday-memories/index.ts:16:  'Access-Control-Allow-Headers': 'authorization, x-client-info, apikey, content-type',
supabase/functions/birthday-memories/index.ts:93:    const supabaseServiceKey = getEnv('SUPABASE_SERVICE_ROLE_KEY');
supabase/functions/send-aftercare-confirmation/index.ts:11:const SUPABASE_SERVICE_ROLE_KEY = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY') || '';
supabase/functions/send-aftercare-confirmation/index.ts:28:  'Access-Control-Allow-Headers': 'authorization, x-client-info, apikey, content-type',
supabase/functions/send-aftercare-confirmation/index.ts:176:    if (SUPABASE_SERVICE_ROLE_KEY) {
supabase/functions/send-aftercare-confirmation/index.ts:178:        const supabase = createClient(SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY);
supabase/functions/social-publisher-cron/index.ts:12:const SUPABASE_SERVICE_ROLE_KEY = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY') || '';
supabase/functions/social-publisher-cron/index.ts:17:  'Access-Control-Allow-Headers': 'authorization, x-client-info, apikey, content-type',
supabase/functions/social-publisher-cron/index.ts:96:    if (!SUPABASE_URL || !SUPABASE_SERVICE_ROLE_KEY) {
supabase/functions/social-publisher-cron/index.ts:100:    const supabase = createClient(SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY, { auth: { persistSession: false } });
supabase/functions/send-invoice-email/index.ts:15:const SUPABASE_SERVICE_ROLE_KEY = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY');
supabase/functions/send-invoice-email/index.ts:17:if (!SUPABASE_SERVICE_ROLE_KEY) {
supabase/functions/send-invoice-email/index.ts:18:  throw new Error('SUPABASE_SERVICE_ROLE_KEY is required');
supabase/functions/send-invoice-email/index.ts:33:    const supabase = createClient(SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY!);
supabase/functions/payments-create-checkout/index.ts:16:  'Access-Control-Allow-Headers': 'authorization, x-client-info, apikey, content-type',
supabase/functions/payments-create-checkout/index.ts:191:    const supabaseServiceKey = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY')!;
supabase/functions/ai-usage/index.ts:31:const SUPABASE_SERVICE_ROLE_KEY = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY');
supabase/functions/ai-usage/index.ts:33:if (!SUPABASE_SERVICE_ROLE_KEY) {
supabase/functions/ai-usage/index.ts:34:  throw new Error('SUPABASE_SERVICE_ROLE_KEY is required');
supabase/functions/ai-usage/index.ts:153:    const supabase = createClient(SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY!);
supabase/functions/whatsapp-send/index.ts:19:const SUPABASE_SERVICE_ROLE_KEY = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY');
supabase/functions/whatsapp-send/index.ts:23:if (!SUPABASE_SERVICE_ROLE_KEY) {
supabase/functions/whatsapp-send/index.ts:24:  throw new Error('SUPABASE_SERVICE_ROLE_KEY is required');
supabase/functions/whatsapp-send/index.ts:50:    const supabase = createClient(SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY!);
supabase/functions/student-activity-monitor/index.ts:5:const SUPABASE_SERVICE_ROLE_KEY = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY') || '';
supabase/functions/student-activity-monitor/index.ts:501:  if (token === SUPABASE_SERVICE_ROLE_KEY || (CRON_SECRET && token === CRON_SECRET)) {
supabase/functions/student-activity-monitor/index.ts:542:    if (!SUPABASE_URL || !SUPABASE_SERVICE_ROLE_KEY) {
supabase/functions/student-activity-monitor/index.ts:549:    const supabaseAdmin = createClient(SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY);
supabase/functions/sync-registration-to-edudash/index.ts:14:  'Access-Control-Allow-Headers': 'authorization, x-client-info, apikey, content-type',
supabase/functions/sync-registration-to-edudash/index.ts:530:    const supabaseServiceKey = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY')!;
supabase/functions/sync-registration-to-edudash/index.ts:985:        const edusiteServiceKey = Deno.env.get('EDUSITE_SUPABASE_SERVICE_ROLE_KEY');
supabase/functions/sync-registrations-from-edusite/index.ts:15:  'Access-Control-Allow-Headers': 'authorization, x-client-info, apikey, content-type',
supabase/functions/sync-registrations-from-edusite/index.ts:116:    const supabaseServiceKey = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY')!;
supabase/functions/sync-registrations-from-edusite/index.ts:118:    const edusiteServiceKey = Deno.env.get('EDUSITE_SUPABASE_SERVICE_ROLE_KEY');
supabase/functions/sync-registrations-from-edusite/index.ts:122:      console.warn('[sync-from-edusite] EDUSITE_SUPABASE_SERVICE_ROLE_KEY not set - sync feature disabled');
supabase/functions/generate-monthly-fees/index.ts:17:const SUPABASE_SERVICE_ROLE_KEY = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY')!;
supabase/functions/generate-monthly-fees/index.ts:203:    const isServiceRole = token === SUPABASE_SERVICE_ROLE_KEY;
supabase/functions/generate-monthly-fees/index.ts:221:    const supabase = createClient(SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY);
eas.json:17:        "DAILY_API_KEY": "${DAILY_API_KEY}",
eas.json:18:        "EXPO_PUBLIC_DAILY_API_KEY": "${DAILY_API_KEY}",
eas.json:39:        "DAILY_API_KEY": "${DAILY_API_KEY}",
eas.json:40:        "EXPO_PUBLIC_DAILY_API_KEY": "${DAILY_API_KEY}",
eas.json:93:        "DAILY_API_KEY": "${DAILY_API_KEY}",
eas.json:94:        "EXPO_PUBLIC_DAILY_API_KEY": "${DAILY_API_KEY}",
eas.json:152:        "DAILY_API_KEY": "${DAILY_API_KEY}",
eas.json:153:        "EXPO_PUBLIC_DAILY_API_KEY": "${DAILY_API_KEY}",
.gitignore:44:*SERVICE_ROLE_KEY*
.gitignore:45:*EDUSITE*KEY*
run-migrations.js:14:const SUPABASE_SERVICE_ROLE_KEY = process.env.SUPABASE_SERVICE_ROLE_KEY;
run-migrations.js:16:if (!SUPABASE_SERVICE_ROLE_KEY) {
run-migrations.js:17:  console.error('‚ùå SUPABASE_SERVICE_ROLE_KEY environment variable is required');
run-migrations.js:19:  console.log('export SUPABASE_SERVICE_ROLE_KEY="your-service-role-key"');
run-migrations.js:23:const supabase = createClient(SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY, {
run-migrations.js:55:        'apikey': SUPABASE_SERVICE_ROLE_KEY,
run-migrations.js:56:        'Authorization': `Bearer ${SUPABASE_SERVICE_ROLE_KEY}`,
web/scripts/setup-supabase-key.sh:4:# Helps you safely add the SUPABASE_SERVICE_ROLE_KEY to .env.local
web/scripts/setup-supabase-key.sh:33:if grep -q 'SUPABASE_SERVICE_ROLE_KEY="eyJ' "$ENV_FILE"; then
web/scripts/setup-supabase-key.sh:46:read -r SERVICE_ROLE_KEY
web/scripts/setup-supabase-key.sh:49:if [[ ! $SERVICE_ROLE_KEY =~ ^eyJ ]]; then
web/scripts/setup-supabase-key.sh:60:sed -i 's|SUPABASE_SERVICE_ROLE_KEY="YOUR_SERVICE_ROLE_KEY_HERE"|SUPABASE_SERVICE_ROLE_KEY="'$SERVICE_ROLE_KEY'"|g' "$ENV_FILE"
web/scripts/setup-supabase-key.sh:82:    echo "üì§ Adding SUPABASE_SERVICE_ROLE_KEY to Vercel..."
web/scripts/setup-supabase-key.sh:83:    vercel env add SUPABASE_SERVICE_ROLE_KEY production <<EOF
web/scripts/setup-supabase-key.sh:84:$SERVICE_ROLE_KEY
web/check-principals.mjs:10:const EDUSITE_SERVICE_KEY = '[REDACTED_JWT]';
web/check-principals.mjs:12:const edusiteClient = createClient(EDUSITE_URL, EDUSITE_SERVICE_KEY);
web/verify-tenant-sync.mjs:13:const EDUSITE_SERVICE_KEY = '[REDACTED_JWT]';
web/verify-tenant-sync.mjs:16:const edusiteClient = createClient(EDUSITE_URL, EDUSITE_SERVICE_KEY);
web/fix-zanele.mjs:13:const EDUSITE_SERVICE_KEY = '[REDACTED_JWT]';
web/fix-zanele.mjs:16:const edusiteClient = createClient(EDUSITE_URL, EDUSITE_SERVICE_KEY);
web/check-zanele.mjs:13:const EDUSITE_SERVICE_KEY = '[REDACTED_JWT]';
web/check-zanele.mjs:16:const edusiteClient = createClient(EDUSITE_URL, EDUSITE_SERVICE_KEY);
web/check-all-profiles.mjs:13:const EDUSITE_SERVICE_KEY = '[REDACTED_JWT]';
web/check-all-profiles.mjs:16:const edusiteClient = createClient(EDUSITE_URL, EDUSITE_SERVICE_KEY);
web/src/app/data-deletion/page.tsx:83:            'apikey': process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY || '',
tools/reset-user-password.js:7:const serviceKey = process.env.SUPABASE_SERVICE_ROLE_KEY;
tools/create-community-principal.js:12:const SUPABASE_SERVICE_KEY = process.env.SUPABASE_SERVICE_ROLE_KEY;
tools/create-community-principal.js:17:  console.error('   SUPABASE_SERVICE_ROLE_KEY');
lib/api/__tests__/educational-integration.test.ts:46:      process.env.SUPABASE_SERVICE_ROLE_KEY!,
tools/seed-with-service-role.js:6:const supabaseServiceKey = process.env.SUPABASE_SERVICE_ROLE_KEY || 
tools/seed-with-service-role.js:7:                          process.env.EXPO_PUBLIC_SUPABASE_SERVICE_ROLE_KEY ||
tools/seed-with-service-role.js:15:  console.log('üí° Make sure you have exported SUPABASE_SERVICE_ROLE_KEY');
tools/create-rpc-function.js:16:  process.env.SUPABASE_SERVICE_ROLE_KEY || process.env.EXPO_PUBLIC_SUPABASE_ANON_KEY
tools/fix-seat-data.js:7:const supabaseKey = process.env.SUPABASE_SERVICE_ROLE_KEY;
tools/fix-seat-data.js:10:  console.log('‚ùå SUPABASE_SERVICE_ROLE_KEY environment variable not set');
web/src/app/admin/registrations/page.tsx:92:      const edusiteproKey = process.env.NEXT_PUBLIC_EDUSITE_SUPABASE_ANON_KEY;
web/src/app/admin/registrations/page.tsx:220:      const edusiteproKey = process.env.NEXT_PUBLIC_EDUSITE_SUPABASE_ANON_KEY;
web/src/app/admin/registrations/page.tsx:263:      const edusiteproKey = process.env.NEXT_PUBLIC_EDUSITE_SUPABASE_ANON_KEY;
web/src/app/admin/registrations/[id]/page.tsx:59:      const edusiteproKey = process.env.NEXT_PUBLIC_EDUSITE_SUPABASE_ANON_KEY;
web/src/app/admin/registrations/[id]/page.tsx:104:      const edusiteproKey = process.env.NEXT_PUBLIC_EDUSITE_SUPABASE_ANON_KEY;
web/src/app/admin/registrations/[id]/page.tsx:142:      const edusiteproKey = process.env.NEXT_PUBLIC_EDUSITE_SUPABASE_ANON_KEY;
tools/fix-subscription-plan-now.js:7:const supabaseKey = process.env.SUPABASE_SERVICE_ROLE_KEY;
tools/fix-subscription-plan-now.js:10:  console.log('‚ùå SUPABASE_SERVICE_ROLE_KEY environment variable not set');
web/src/app/api/notifications/deployment/route.ts:21:  const serviceRoleKey = process.env.SUPABASE_SERVICE_ROLE_KEY;
web/src/app/api/notifications/deployment/route.ts:275:      process.env.FIREBASE_PRIVATE_KEY &&
web/src/app/api/notifications/deployment/route.ts:297:          'FIREBASE_PRIVATE_KEY',
web/src/app/api/notifications/subscribe/route.ts:45:      process.env.SUPABASE_SERVICE_ROLE_KEY!
web/src/app/api/notifications/subscribe/route.ts:171:      process.env.SUPABASE_SERVICE_ROLE_KEY || process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!
web/src/app/api/notifications/send/route.ts:16:const VAPID_PRIVATE_KEY = process.env.VAPID_PRIVATE_KEY || '';
web/src/app/api/notifications/send/route.ts:20:if (VAPID_PRIVATE_KEY) {
web/src/app/api/notifications/send/route.ts:21:  webpush.setVapidDetails(VAPID_SUBJECT, VAPID_PUBLIC_KEY, VAPID_PRIVATE_KEY);
web/src/app/api/notifications/send/route.ts:48:    if (!VAPID_PRIVATE_KEY) {
web/src/app/api/notifications/send/route.ts:50:        { error: 'Push notifications not configured (missing VAPID_PRIVATE_KEY)' },
web/src/app/api/notifications/send/route.ts:71:      process.env.SUPABASE_SERVICE_ROLE_KEY!
web/src/app/api/daily/token/route.ts:4:const DAILY_API_KEY = process.env.DAILY_API_KEY;
web/src/app/api/daily/token/route.ts:20:    if (!DAILY_API_KEY) {
web/src/app/api/daily/token/route.ts:21:      console.error('[Daily Token] DAILY_API_KEY is not configured. Please add your Daily.co API key to the environment variables.');
web/src/app/api/daily/token/route.ts:25:        code: 'DAILY_API_KEY_MISSING'
web/src/app/api/daily/token/route.ts:83:        'Authorization': `Bearer ${DAILY_API_KEY}`,
web/src/app/api/daily/rooms/route.ts:4:const DAILY_API_KEY = process.env.DAILY_API_KEY;
web/src/app/api/daily/rooms/route.ts:34:    if (!DAILY_API_KEY) {
web/src/app/api/daily/rooms/route.ts:35:      console.error('[Daily Rooms] DAILY_API_KEY is not configured. Please add your Daily.co API key to the environment variables.');
web/src/app/api/daily/rooms/route.ts:39:        code: 'DAILY_API_KEY_MISSING'
web/src/app/api/daily/rooms/route.ts:124:        'Authorization': `Bearer ${DAILY_API_KEY}`,
web/src/app/api/daily/rooms/route.ts:160:        errorMessage = 'Daily.co API key is invalid. Please check your DAILY_API_KEY environment variable.';
web/src/app/api/students/delete/route.ts:19:    const edusiteKey = process.env.NEXT_PUBLIC_EDUSITE_SUPABASE_ANON_KEY;
web/src/app/api/auth/sign-up-principal/route.ts:102:      process.env.SUPABASE_SERVICE_ROLE_KEY!,
web/src/app/api/registrations/documents/route.ts:131:    const serviceKey = process.env.SUPABASE_SERVICE_ROLE_KEY;
web/src/app/api/registrations/pop-upload/route.ts:46:    const serviceKey = process.env.SUPABASE_SERVICE_ROLE_KEY;
web/src/components/admin/RegistrationNotifications.tsx:50:      const edusiteproKey = process.env.NEXT_PUBLIC_EDUSITE_SUPABASE_ANON_KEY;
web/src/components/calls/DailyCallInterface.tsx:244:        if (errorData.code === 'DAILY_API_KEY_MISSING' || response.status === 503) {
web/src/components/calls/DailyCallInterface.tsx:285:        if (errorData.code === 'DAILY_API_KEY_MISSING' || response.status === 503) {
web/src/components/calls/DailyPrebuiltCall.tsx:74:        if (errorData.code === 'DAILY_API_KEY_MISSING' || response.status === 503) {
web/src/components/calls/GroupCallProvider.tsx:128:        if (errorData.code === 'DAILY_API_KEY_MISSING' || response.status === 503) {
web/src/components/calls/_archived/DailyCallInterface.tsx:201:        if (errorData.code === 'DAILY_API_KEY_MISSING' || response.status === 503) {
web/src/components/calls/_archived/DailyCallInterface.tsx:242:        if (errorData.code === 'DAILY_API_KEY_MISSING' || response.status === 503) {
web/src/components/calls/_archived/GroupCallProvider.tsx:128:        if (errorData.code === 'DAILY_API_KEY_MISSING' || response.status === 503) {
web/src/components/calls/StartLiveLessonPrebuilt.tsx:294:        if (errorData.code === 'DAILY_API_KEY_MISSING' || response.status === 503) {
web/fix-davecon-org-assignment.mjs:21:const EDUSITE_SERVICE_KEY = '[REDACTED_JWT]';
web/fix-davecon-org-assignment.mjs:24:const edusiteClient = createClient(EDUSITE_URL, EDUSITE_SERVICE_KEY);
reports/prod-ready/secrets_rg_hits.txt:1:app.json:268:      "DAILY_API_KEY": "[REDACTED_DAILY_API_KEY]"
reports/prod-ready/secrets_rg_hits.txt:2:tests/e2e/homework-grading-calls.e2e.test.ts:345:    const dailyApiKey = process.env.EXPO_PUBLIC_DAILY_API_KEY;
reports/prod-ready/secrets_rg_hits.txt:3:tests/e2e/homework-grading-calls.e2e.test.ts:347:    if (!dailyApiKey || dailyApiKey === '${DAILY_API_KEY}') {
reports/prod-ready/secrets_rg_hits.txt:4:CODEBASE_REVIEW_SUMMARY.md:12:- **Issue**: Service role key was exposed in a file at repository root: `t EDUSITE_SERVICE_ROLE_KEY = ...`
reports/prod-ready/secrets_rg_hits.txt:5:CODEBASE_REVIEW_SUMMARY.md:64:*SERVICE_ROLE_KEY*
reports/prod-ready/secrets_rg_hits.txt:6:CODEBASE_REVIEW_SUMMARY.md:65:*EDUSITE*KEY*
reports/prod-ready/secrets_rg_hits.txt:7:CODEBASE_REVIEW_SUMMARY.md:102:- `t EDUSITE_SERVICE_ROLE_KEY = ...` (exposed key)
reports/prod-ready/secrets_rg_hits.txt:8:services/PictureOfProgressAI.ts:96:          'apikey': SUPABASE_ANON_KEY,
reports/prod-ready/secrets_rg_hits.txt:9:supabase/functions/explain-answer/index.ts:18:const SUPABASE_SERVICE_ROLE_KEY = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY');
reports/prod-ready/secrets_rg_hits.txt:10:supabase/functions/explain-answer/index.ts:21:if (!SUPABASE_SERVICE_ROLE_KEY) {
reports/prod-ready/secrets_rg_hits.txt:11:supabase/functions/explain-answer/index.ts:22:  throw new Error('SUPABASE_SERVICE_ROLE_KEY is required');
reports/prod-ready/secrets_rg_hits.txt:12:supabase/functions/explain-answer/index.ts:49:    const supabase = createClient(SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY!);
reports/prod-ready/secrets_rg_hits.txt:13:supabase/functions/payments-registration-fee/index.ts:16:const SUPABASE_SERVICE_ROLE_KEY = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY');
reports/prod-ready/secrets_rg_hits.txt:14:supabase/functions/payments-registration-fee/index.ts:22:if (!SUPABASE_SERVICE_ROLE_KEY) {
reports/prod-ready/secrets_rg_hits.txt:15:supabase/functions/payments-registration-fee/index.ts:23:  throw new Error('SUPABASE_SERVICE_ROLE_KEY is required');
reports/prod-ready/secrets_rg_hits.txt:16:supabase/functions/payments-registration-fee/index.ts:80:    const supabase = createClient(SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY!);
reports/prod-ready/secrets_rg_hits.txt:17:supabase/functions/create-teacher-account/index.ts:57:    const supabaseServiceKey = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY')!;
reports/prod-ready/secrets_rg_hits.txt:18:supabase/functions/send-fcm-call/index.ts:26:const SUPABASE_SERVICE_ROLE_KEY = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY') ?? '';
reports/prod-ready/secrets_rg_hits.txt:19:supabase/functions/send-fcm-call/index.ts:71:  'Access-Control-Allow-Headers': 'authorization, x-client-info, apikey, content-type',
reports/prod-ready/secrets_rg_hits.txt:20:supabase/functions/send-fcm-call/index.ts:316:    const supabase = createClient(SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY);
reports/prod-ready/secrets_rg_hits.txt:21:supabase/functions/fee-reminders-cron/index.ts:11:const SUPABASE_SERVICE_ROLE_KEY = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY')!;
reports/prod-ready/secrets_rg_hits.txt:22:supabase/functions/fee-reminders-cron/index.ts:45:    const isServiceRole = token === SUPABASE_SERVICE_ROLE_KEY;
reports/prod-ready/secrets_rg_hits.txt:23:supabase/functions/fee-reminders-cron/index.ts:65:    const supabase = createClient(SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY);
reports/prod-ready/secrets_rg_hits.txt:24:supabase/functions/generate-exam/index.ts:18:const SUPABASE_SERVICE_ROLE_KEY = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY');
reports/prod-ready/secrets_rg_hits.txt:25:supabase/functions/generate-exam/index.ts:21:if (!SUPABASE_SERVICE_ROLE_KEY) {
reports/prod-ready/secrets_rg_hits.txt:26:supabase/functions/generate-exam/index.ts:22:  throw new Error('SUPABASE_SERVICE_ROLE_KEY is required');
reports/prod-ready/secrets_rg_hits.txt:27:supabase/functions/generate-exam/index.ts:82:    const supabase = createClient(SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY!);
reports/prod-ready/secrets_rg_hits.txt:28:supabase/functions/social-agent-daily-cron/index.ts:15:const SUPABASE_SERVICE_ROLE_KEY = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY') || '';
reports/prod-ready/secrets_rg_hits.txt:29:supabase/functions/social-agent-daily-cron/index.ts:20:  'Access-Control-Allow-Headers': 'authorization, x-client-info, apikey, content-type',
reports/prod-ready/secrets_rg_hits.txt:30:supabase/functions/social-agent-daily-cron/index.ts:226:    if (!SUPABASE_URL || !SUPABASE_SERVICE_ROLE_KEY) {
reports/prod-ready/secrets_rg_hits.txt:31:supabase/functions/social-agent-daily-cron/index.ts:230:    const supabase = createClient(SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY, { auth: { persistSession: false } });
reports/prod-ready/secrets_rg_hits.txt:32:supabase/functions/_shared/cors.ts:54:    'Access-Control-Allow-Headers': 'authorization, x-client-info, apikey, content-type',
reports/prod-ready/secrets_rg_hits.txt:33:supabase/functions/aftercare-email/index.ts:15:const SUPABASE_SERVICE_ROLE_KEY = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY');
reports/prod-ready/secrets_rg_hits.txt:34:supabase/functions/aftercare-email/index.ts:17:if (!SUPABASE_SERVICE_ROLE_KEY) {
reports/prod-ready/secrets_rg_hits.txt:35:supabase/functions/aftercare-email/index.ts:18:  throw new Error('SUPABASE_SERVICE_ROLE_KEY is required');
reports/prod-ready/secrets_rg_hits.txt:36:supabase/functions/aftercare-email/index.ts:33:    const supabase = createClient(SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY!);
reports/prod-ready/secrets_rg_hits.txt:37:supabase/functions/sync-campaign-to-edusite/index.ts:9:  'Access-Control-Allow-Headers': 'authorization, x-client-info, apikey, content-type',
reports/prod-ready/secrets_rg_hits.txt:38:supabase/functions/sync-campaign-to-edusite/index.ts:77:    const edusiteKey = Deno.env.get('EDUSITE_SUPABASE_SERVICE_ROLE_KEY');
reports/prod-ready/secrets_rg_hits.txt:39:supabase/functions/sync-campaign-to-edusite/index.ts:93:      const supabaseKey = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY');
reports/prod-ready/secrets_rg_hits.txt:40:supabase/functions/social-facebook-connect/index.ts:7:  'Access-Control-Allow-Headers': 'authorization, x-client-info, apikey, content-type',
reports/prod-ready/secrets_rg_hits.txt:41:supabase/functions/social-facebook-connect/index.ts:111:    const serviceKey = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY') || '';
reports/prod-ready/secrets_rg_hits.txt:42:SECURITY_NOTES.md:36:- Any file containing `SERVICE_ROLE_KEY`
reports/prod-ready/secrets_rg_hits.txt:43:SECURITY_NOTES.md:46:- `*SERVICE_ROLE_KEY*`
reports/prod-ready/secrets_rg_hits.txt:44:SECURITY_NOTES.md:47:- `*EDUSITE*KEY*`
reports/prod-ready/secrets_rg_hits.txt:45:supabase/functions/daily-rooms/index.ts:10:const DAILY_API_KEY = Deno.env.get('DAILY_API_KEY');
reports/prod-ready/secrets_rg_hits.txt:46:supabase/functions/daily-rooms/index.ts:13:const SUPABASE_SERVICE_ROLE_KEY = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY') ?? '';
reports/prod-ready/secrets_rg_hits.txt:47:supabase/functions/daily-rooms/index.ts:46:  'Access-Control-Allow-Headers': 'authorization, x-client-info, apikey, content-type',
reports/prod-ready/secrets_rg_hits.txt:48:supabase/functions/daily-rooms/index.ts:66:    if (!DAILY_API_KEY) {
reports/prod-ready/secrets_rg_hits.txt:49:supabase/functions/daily-rooms/index.ts:67:      console.error('[Daily Rooms] DAILY_API_KEY is not configured');
reports/prod-ready/secrets_rg_hits.txt:50:supabase/functions/daily-rooms/index.ts:72:          code: 'DAILY_API_KEY_MISSING',
reports/prod-ready/secrets_rg_hits.txt:51:supabase/functions/daily-rooms/index.ts:90:    const supabase = createClient(SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY, {
reports/prod-ready/secrets_rg_hits.txt:52:supabase/functions/daily-rooms/index.ts:198:        'Authorization': `Bearer ${DAILY_API_KEY}`,
reports/prod-ready/secrets_rg_hits.txt:53:supabase/functions/transcribe-audio/index.ts:18:const SUPABASE_SERVICE_ROLE_KEY = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY');
reports/prod-ready/secrets_rg_hits.txt:54:supabase/functions/transcribe-audio/index.ts:21:if (!SUPABASE_SERVICE_ROLE_KEY) {
reports/prod-ready/secrets_rg_hits.txt:55:supabase/functions/transcribe-audio/index.ts:22:  throw new Error('SUPABASE_SERVICE_ROLE_KEY is required');
reports/prod-ready/secrets_rg_hits.txt:56:supabase/functions/transcribe-audio/index.ts:48:    const supabase = createClient(SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY!);
reports/prod-ready/secrets_rg_hits.txt:57:supabase/functions/transcribe-chunk/index.ts:21:const SUPABASE_SERVICE_ROLE_KEY = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY');
reports/prod-ready/secrets_rg_hits.txt:58:supabase/functions/transcribe-chunk/index.ts:25:if (!SUPABASE_SERVICE_ROLE_KEY) {
reports/prod-ready/secrets_rg_hits.txt:59:supabase/functions/transcribe-chunk/index.ts:26:  throw new Error('SUPABASE_SERVICE_ROLE_KEY is required');
reports/prod-ready/secrets_rg_hits.txt:60:supabase/functions/transcribe-chunk/index.ts:41:    const supabase = createClient(SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY!);
reports/prod-ready/secrets_rg_hits.txt:61:supabase/functions/remove-teacher/index.ts:17:    'authorization, x-client-info, apikey, content-type',
reports/prod-ready/secrets_rg_hits.txt:62:supabase/functions/remove-teacher/index.ts:35:    const serviceKey = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY')!;
reports/prod-ready/secrets_rg_hits.txt:63:supabase/functions/get-secrets/index.ts:16:const SUPABASE_SERVICE_ROLE_KEY = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY');
reports/prod-ready/secrets_rg_hits.txt:64:supabase/functions/get-secrets/index.ts:18:if (!SUPABASE_SERVICE_ROLE_KEY) {
reports/prod-ready/secrets_rg_hits.txt:65:supabase/functions/get-secrets/index.ts:19:  throw new Error('SUPABASE_SERVICE_ROLE_KEY is required');
reports/prod-ready/secrets_rg_hits.txt:66:supabase/functions/get-secrets/index.ts:25:  'DAILY_API_KEY',
reports/prod-ready/secrets_rg_hits.txt:67:supabase/functions/get-secrets/index.ts:40:    const supabase = createClient(SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY!);
reports/prod-ready/secrets_rg_hits.txt:68:supabase/functions/ai-insights/index.ts:16:const SUPABASE_SERVICE_ROLE_KEY = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY');
reports/prod-ready/secrets_rg_hits.txt:69:supabase/functions/ai-insights/index.ts:19:if (!SUPABASE_SERVICE_ROLE_KEY) {
reports/prod-ready/secrets_rg_hits.txt:70:supabase/functions/ai-insights/index.ts:20:  throw new Error('SUPABASE_SERVICE_ROLE_KEY is required');
reports/prod-ready/secrets_rg_hits.txt:71:supabase/functions/ai-insights/index.ts:35:    const supabase = createClient(SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY!);
reports/prod-ready/secrets_rg_hits.txt:72:supabase/functions/send-aftercare-payment-verified/index.ts:11:const SUPABASE_SERVICE_ROLE_KEY = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY') || '';
reports/prod-ready/secrets_rg_hits.txt:73:supabase/functions/send-aftercare-payment-verified/index.ts:18:  'Access-Control-Allow-Headers': 'authorization, x-client-info, apikey, content-type',
reports/prod-ready/secrets_rg_hits.txt:74:supabase/functions/send-aftercare-payment-verified/index.ts:124:    if (SUPABASE_SERVICE_ROLE_KEY) {
reports/prod-ready/secrets_rg_hits.txt:75:supabase/functions/send-aftercare-payment-verified/index.ts:126:        const supabase = createClient(SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY);
reports/prod-ready/secrets_rg_hits.txt:76:supabase/functions/birthday-reminders-cron/index.ts:16:const SUPABASE_SERVICE_ROLE_KEY = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY')!
reports/prod-ready/secrets_rg_hits.txt:77:supabase/functions/birthday-reminders-cron/index.ts:92:    const isServiceRole = token === SUPABASE_SERVICE_ROLE_KEY;
reports/prod-ready/secrets_rg_hits.txt:78:supabase/functions/birthday-reminders-cron/index.ts:116:    const supabase = createClient(SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY);
reports/prod-ready/secrets_rg_hits.txt:79:supabase/functions/payments-cancel-subscription/index.ts:17:  'Access-Control-Allow-Headers': 'authorization, x-client-info, apikey, content-type',
reports/prod-ready/secrets_rg_hits.txt:80:supabase/functions/payments-cancel-subscription/index.ts:85:    const supabaseServiceKey = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY')!;
reports/prod-ready/secrets_rg_hits.txt:81:supabase/functions/weekly-report-cron/index.ts:10:const SUPABASE_SERVICE_ROLE_KEY = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY')!
reports/prod-ready/secrets_rg_hits.txt:82:supabase/functions/weekly-report-cron/index.ts:23:    const supabase = createClient(SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY)
reports/prod-ready/secrets_rg_hits.txt:83:supabase/functions/weekly-report-cron/index.ts:69:            'Authorization': `Bearer ${SUPABASE_SERVICE_ROLE_KEY}`,
reports/prod-ready/secrets_rg_hits.txt:84:supabase/functions/payfast-webhook/index.ts:18:  'Access-Control-Allow-Headers': 'authorization, x-client-info, apikey, content-type',
reports/prod-ready/secrets_rg_hits.txt:85:supabase/functions/payfast-webhook/index.ts:168:    const supabaseServiceKey = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY')!;
reports/prod-ready/secrets_rg_hits.txt:86:supabase/functions/payfast-webhook/index.ts:426:        Deno.env.get('SUPABASE_SERVICE_ROLE_KEY')!
reports/prod-ready/secrets_rg_hits.txt:87:supabase/functions/superadmin-set-temp-password/index.ts:10:const SUPABASE_SERVICE_ROLE_KEY = Deno.env.get("SUPABASE_SERVICE_ROLE_KEY") || "";
reports/prod-ready/secrets_rg_hits.txt:88:supabase/functions/superadmin-set-temp-password/index.ts:14:  "Access-Control-Allow-Headers": "authorization, x-client-info, apikey, content-type",
reports/prod-ready/secrets_rg_hits.txt:89:supabase/functions/superadmin-set-temp-password/index.ts:67:  if (!SUPABASE_URL || !SUPABASE_ANON_KEY || !SUPABASE_SERVICE_ROLE_KEY) {
reports/prod-ready/secrets_rg_hits.txt:90:supabase/functions/superadmin-set-temp-password/index.ts:80:  const supabaseAdmin = createClient(SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY);
reports/prod-ready/secrets_rg_hits.txt:91:supabase/functions/superadmin-set-user-tier/index.ts:10:const SUPABASE_SERVICE_ROLE_KEY = Deno.env.get("SUPABASE_SERVICE_ROLE_KEY") || "";
reports/prod-ready/secrets_rg_hits.txt:92:supabase/functions/superadmin-set-user-tier/index.ts:14:  "Access-Control-Allow-Headers": "authorization, x-client-info, apikey, content-type",
reports/prod-ready/secrets_rg_hits.txt:93:supabase/functions/superadmin-set-user-tier/index.ts:71:  if (!SUPABASE_URL || !SUPABASE_ANON_KEY || !SUPABASE_SERVICE_ROLE_KEY) {
reports/prod-ready/secrets_rg_hits.txt:94:supabase/functions/superadmin-set-user-tier/index.ts:84:  const supabaseAdmin = createClient(SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY);
reports/prod-ready/secrets_rg_hits.txt:95:supabase/functions/birthday-montage/index.ts:16:  'Access-Control-Allow-Headers': 'authorization, x-client-info, apikey, content-type',
reports/prod-ready/secrets_rg_hits.txt:96:supabase/functions/birthday-montage/index.ts:93:    const supabaseServiceKey = getEnv('SUPABASE_SERVICE_ROLE_KEY');
reports/prod-ready/secrets_rg_hits.txt:97:supabase/functions/notifications-dispatcher/index.ts:215:const SUPABASE_SERVICE_ROLE_KEY = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY') || '';
reports/prod-ready/secrets_rg_hits.txt:98:supabase/functions/notifications-dispatcher/index.ts:220:const supabase = SUPABASE_URL && SUPABASE_SERVICE_ROLE_KEY
reports/prod-ready/secrets_rg_hits.txt:99:supabase/functions/notifications-dispatcher/index.ts:221:  ? createClient(SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY)
reports/prod-ready/secrets_rg_hits.txt:100:supabase/functions/notifications-dispatcher/index.ts:2955:          details: 'SUPABASE_URL and SUPABASE_SERVICE_ROLE_KEY are required.'
reports/prod-ready/secrets_rg_hits.txt:101:supabase/functions/notifications-dispatcher/index.ts:3570:        details: 'SUPABASE_URL and SUPABASE_SERVICE_ROLE_KEY are required.'
reports/prod-ready/secrets_rg_hits.txt:102:supabase/functions/notifications-dispatcher/index.ts:3664:  'Access-Control-Allow-Headers': 'authorization, x-client-info, apikey, content-type',
reports/prod-ready/secrets_rg_hits.txt:103:supabase/functions/send-email/index.ts:13:const SUPABASE_SERVICE_ROLE_KEY = Deno.env.get("SUPABASE_SERVICE_ROLE_KEY") || "";
reports/prod-ready/secrets_rg_hits.txt:104:supabase/functions/send-email/index.ts:22:  "Access-Control-Allow-Headers": "authorization, x-client-info, apikey, content-type",
reports/prod-ready/secrets_rg_hits.txt:105:supabase/functions/send-email/index.ts:48:    const isServiceRole = SUPABASE_SERVICE_ROLE_KEY && authHeader.includes(SUPABASE_SERVICE_ROLE_KEY);
reports/prod-ready/secrets_rg_hits.txt:106:supabase/functions/send-email/index.ts:55:    const adminClient = SUPABASE_SERVICE_ROLE_KEY
reports/prod-ready/secrets_rg_hits.txt:107:supabase/functions/send-email/index.ts:56:      ? createClient(SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY)
reports/prod-ready/secrets_rg_hits.txt:108:supabase/functions/ingest-file/index.ts:12:  'Access-Control-Allow-Headers': 'authorization, x-client-info, apikey, content-type',
reports/prod-ready/secrets_rg_hits.txt:109:supabase/functions/ingest-file/index.ts:71:    const serviceKey = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY') || '';
reports/prod-ready/secrets_rg_hits.txt:110:supabase/functions/payment-qr-generator/index.ts:16:const SUPABASE_SERVICE_ROLE_KEY = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY');
reports/prod-ready/secrets_rg_hits.txt:111:supabase/functions/payment-qr-generator/index.ts:18:if (!SUPABASE_SERVICE_ROLE_KEY) {
reports/prod-ready/secrets_rg_hits.txt:112:supabase/functions/payment-qr-generator/index.ts:19:  throw new Error('SUPABASE_SERVICE_ROLE_KEY is required');
reports/prod-ready/secrets_rg_hits.txt:113:supabase/functions/payment-qr-generator/index.ts:34:    const supabase = createClient(SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY!);
reports/prod-ready/secrets_rg_hits.txt:114:supabase/functions/generate-weekly-report/index.ts:10:const SUPABASE_SERVICE_ROLE_KEY = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY')!
reports/prod-ready/secrets_rg_hits.txt:115:supabase/functions/generate-weekly-report/index.ts:15:  'Access-Control-Allow-Headers': 'authorization, x-client-info, apikey, content-type',
reports/prod-ready/secrets_rg_hits.txt:116:supabase/functions/generate-weekly-report/index.ts:43:    const supabase = createClient(SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY)
reports/prod-ready/secrets_rg_hits.txt:117:supabase/functions/payfast-create-payment/index.ts:25:const SUPABASE_SERVICE_ROLE_KEY = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY');
reports/prod-ready/secrets_rg_hits.txt:118:supabase/functions/payfast-create-payment/index.ts:27:if (!SUPABASE_SERVICE_ROLE_KEY) {
reports/prod-ready/secrets_rg_hits.txt:119:supabase/functions/payfast-create-payment/index.ts:28:  throw new Error('SUPABASE_SERVICE_ROLE_KEY is required');
reports/prod-ready/secrets_rg_hits.txt:120:supabase/functions/payfast-create-payment/index.ts:82:    const supabase = createClient(SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY!);
reports/prod-ready/secrets_rg_hits.txt:121:supabase/functions/social-agent-generate/index.ts:7:  'Access-Control-Allow-Headers': 'authorization, x-client-info, apikey, content-type',
reports/prod-ready/secrets_rg_hits.txt:122:supabase/functions/social-agent-generate/index.ts:216:    const serviceKey = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY') || '';
reports/prod-ready/secrets_rg_hits.txt:123:supabase/functions/tts-proxy/index.ts:45:  'Access-Control-Allow-Headers': 'authorization, x-client-info, apikey, content-type',
reports/prod-ready/secrets_rg_hits.txt:124:supabase/functions/tts-proxy/index.ts:795:    const serviceKey = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY') || '';
reports/prod-ready/secrets_rg_hits.txt:125:supabase/functions/dash-context-sync/index.ts:5:  'Access-Control-Allow-Headers': 'authorization, x-client-info, apikey, content-type',
reports/prod-ready/secrets_rg_hits.txt:126:supabase/functions/dash-context-sync/index.ts:31:    const serviceKey = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY') || '';
reports/prod-ready/secrets_rg_hits.txt:127:supabase/functions/event-reminders-cron/index.ts:16:const SUPABASE_SERVICE_ROLE_KEY = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY')!
reports/prod-ready/secrets_rg_hits.txt:128:supabase/functions/event-reminders-cron/index.ts:48:    const isServiceRole = authHeader === `Bearer ${SUPABASE_SERVICE_ROLE_KEY}`;
reports/prod-ready/secrets_rg_hits.txt:129:supabase/functions/event-reminders-cron/index.ts:59:    const supabase = createClient(SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY);
reports/prod-ready/secrets_rg_hits.txt:130:supabase/functions/openai-realtime-token/index.ts:16:const SUPABASE_SERVICE_ROLE_KEY = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY');
reports/prod-ready/secrets_rg_hits.txt:131:supabase/functions/openai-realtime-token/index.ts:19:if (!SUPABASE_SERVICE_ROLE_KEY) {
reports/prod-ready/secrets_rg_hits.txt:132:supabase/functions/openai-realtime-token/index.ts:20:  throw new Error('SUPABASE_SERVICE_ROLE_KEY is required');
reports/prod-ready/secrets_rg_hits.txt:133:supabase/functions/openai-realtime-token/index.ts:39:    const supabase = createClient(SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY!);
reports/prod-ready/secrets_rg_hits.txt:134:supabase/functions/notify-parents-live-lesson/index.ts:16:const SUPABASE_SERVICE_ROLE_KEY = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY');
reports/prod-ready/secrets_rg_hits.txt:135:supabase/functions/notify-parents-live-lesson/index.ts:18:if (!SUPABASE_SERVICE_ROLE_KEY) {
reports/prod-ready/secrets_rg_hits.txt:136:supabase/functions/notify-parents-live-lesson/index.ts:19:  throw new Error('SUPABASE_SERVICE_ROLE_KEY is required');
reports/prod-ready/secrets_rg_hits.txt:137:supabase/functions/notify-parents-live-lesson/index.ts:45:    const supabase = createClient(SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY!);
reports/prod-ready/secrets_rg_hits.txt:138:supabase/functions/delete-account/index.ts:18:const SUPABASE_SERVICE_ROLE_KEY = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY');
reports/prod-ready/secrets_rg_hits.txt:139:supabase/functions/delete-account/index.ts:20:if (!SUPABASE_SERVICE_ROLE_KEY) {
reports/prod-ready/secrets_rg_hits.txt:140:supabase/functions/delete-account/index.ts:21:  throw new Error('SUPABASE_SERVICE_ROLE_KEY is required');
reports/prod-ready/secrets_rg_hits.txt:141:supabase/functions/delete-account/index.ts:48:    const supabase = createClient(SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY!);
reports/prod-ready/secrets_rg_hits.txt:142:supabase/functions/generate-invoice-pdf/index.ts:17:const SUPABASE_SERVICE_ROLE_KEY = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY');
reports/prod-ready/secrets_rg_hits.txt:143:supabase/functions/generate-invoice-pdf/index.ts:19:if (!SUPABASE_SERVICE_ROLE_KEY) {
reports/prod-ready/secrets_rg_hits.txt:144:supabase/functions/generate-invoice-pdf/index.ts:20:  throw new Error('SUPABASE_SERVICE_ROLE_KEY is required');
reports/prod-ready/secrets_rg_hits.txt:145:supabase/functions/generate-invoice-pdf/index.ts:35:    const supabase = createClient(SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY!);
reports/prod-ready/secrets_rg_hits.txt:146:supabase/functions/process-aftercare-enrollment/index.ts:17:  'Access-Control-Allow-Headers': 'authorization, x-client-info, apikey, content-type',
reports/prod-ready/secrets_rg_hits.txt:147:supabase/functions/process-aftercare-enrollment/index.ts:136:    const supabaseServiceKey = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY')!;
reports/prod-ready/secrets_rg_hits.txt:148:supabase/functions/validate-robotics-challenge/index.ts:19:const SUPABASE_SERVICE_ROLE_KEY = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY');
reports/prod-ready/secrets_rg_hits.txt:149:supabase/functions/validate-robotics-challenge/index.ts:21:if (!SUPABASE_SERVICE_ROLE_KEY) {
reports/prod-ready/secrets_rg_hits.txt:150:supabase/functions/validate-robotics-challenge/index.ts:22:  throw new Error('SUPABASE_SERVICE_ROLE_KEY is required');
reports/prod-ready/secrets_rg_hits.txt:151:supabase/functions/validate-robotics-challenge/index.ts:105:    const supabase = createClient(SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY!);
reports/prod-ready/secrets_rg_hits.txt:152:supabase/functions/send-progress-report/index.ts:9:  'Access-Control-Allow-Headers': 'authorization, x-client-info, apikey, content-type',
reports/prod-ready/secrets_rg_hits.txt:153:supabase/functions/send-progress-report/index.ts:45:    const supabaseServiceKey = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY')!;
reports/prod-ready/secrets_rg_hits.txt:154:supabase/functions/birthday-donations/index.ts:14:  'Access-Control-Allow-Headers': 'authorization, x-client-info, apikey, content-type',
reports/prod-ready/secrets_rg_hits.txt:155:supabase/functions/birthday-donations/index.ts:51:    const supabaseServiceKey = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY')!;
reports/prod-ready/secrets_rg_hits.txt:156:supabase/functions/build-notifier/index.ts:22:const SUPABASE_SERVICE_ROLE_KEY = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY')!;
reports/prod-ready/secrets_rg_hits.txt:157:supabase/functions/build-notifier/index.ts:111:    const isServiceRole = token === SUPABASE_SERVICE_ROLE_KEY;
reports/prod-ready/secrets_rg_hits.txt:158:supabase/functions/build-notifier/index.ts:145:    const supabase = createClient(SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY);
reports/prod-ready/secrets_rg_hits.txt:159:supabase/functions/daily-token/index.ts:10:const DAILY_API_KEY = Deno.env.get('DAILY_API_KEY');
reports/prod-ready/secrets_rg_hits.txt:160:supabase/functions/daily-token/index.ts:13:const SUPABASE_SERVICE_ROLE_KEY = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY') ?? '';
reports/prod-ready/secrets_rg_hits.txt:161:supabase/functions/daily-token/index.ts:28:  'Access-Control-Allow-Headers': 'authorization, x-client-info, apikey, content-type',
reports/prod-ready/secrets_rg_hits.txt:162:supabase/functions/daily-token/index.ts:48:    if (!DAILY_API_KEY) {
reports/prod-ready/secrets_rg_hits.txt:163:supabase/functions/daily-token/index.ts:49:      console.error('[Daily Token] DAILY_API_KEY is not configured');
reports/prod-ready/secrets_rg_hits.txt:164:supabase/functions/daily-token/index.ts:54:          code: 'DAILY_API_KEY_MISSING',
reports/prod-ready/secrets_rg_hits.txt:165:supabase/functions/daily-token/index.ts:72:    const supabase = createClient(SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY, {
reports/prod-ready/secrets_rg_hits.txt:166:supabase/functions/daily-token/index.ts:136:        'Authorization': `Bearer ${DAILY_API_KEY}`,
reports/prod-ready/secrets_rg_hits.txt:167:supabase/functions/social-facebook-publish/index.ts:7:  'Access-Control-Allow-Headers': 'authorization, x-client-info, apikey, content-type',
reports/prod-ready/secrets_rg_hits.txt:168:supabase/functions/social-facebook-publish/index.ts:99:    const serviceKey = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY') || '';
reports/prod-ready/secrets_rg_hits.txt:169:supabase/functions/create-organization-member/index.ts:20:  'Access-Control-Allow-Headers': 'authorization, x-client-info, apikey, content-type',
reports/prod-ready/secrets_rg_hits.txt:170:supabase/functions/create-organization-member/index.ts:50:    const supabaseServiceKey = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY')!;
reports/prod-ready/secrets_rg_hits.txt:171:supabase/functions/service-health-monitor/index.ts:5:const SUPABASE_SERVICE_ROLE_KEY = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY') || '';
reports/prod-ready/secrets_rg_hits.txt:172:supabase/functions/service-health-monitor/index.ts:150:  if (!SUPABASE_URL || !SUPABASE_SERVICE_ROLE_KEY) {
reports/prod-ready/secrets_rg_hits.txt:173:supabase/functions/service-health-monitor/index.ts:154:        error: 'SUPABASE_URL or SUPABASE_SERVICE_ROLE_KEY is missing',
reports/prod-ready/secrets_rg_hits.txt:174:supabase/functions/service-health-monitor/index.ts:163:  const supabaseAdmin = createClient(SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY);
reports/prod-ready/secrets_rg_hits.txt:175:supabase/functions/azure-speech-token/index.ts:13:  'Access-Control-Allow-Headers': 'authorization, x-client-info, apikey, content-type',
reports/prod-ready/secrets_rg_hits.txt:176:supabase/functions/dash-ai-automation/index.ts:16:const SUPABASE_SERVICE_ROLE_KEY = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY');
reports/prod-ready/secrets_rg_hits.txt:177:supabase/functions/dash-ai-automation/index.ts:19:if (!SUPABASE_SERVICE_ROLE_KEY) {
reports/prod-ready/secrets_rg_hits.txt:178:supabase/functions/dash-ai-automation/index.ts:20:  throw new Error('SUPABASE_SERVICE_ROLE_KEY is required');
reports/prod-ready/secrets_rg_hits.txt:179:supabase/functions/dash-ai-automation/index.ts:55:    const supabase = createClient(SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY!);
reports/prod-ready/secrets_rg_hits.txt:180:supabase/functions/birthday-memories/index.ts:16:  'Access-Control-Allow-Headers': 'authorization, x-client-info, apikey, content-type',
reports/prod-ready/secrets_rg_hits.txt:181:supabase/functions/birthday-memories/index.ts:93:    const supabaseServiceKey = getEnv('SUPABASE_SERVICE_ROLE_KEY');
reports/prod-ready/secrets_rg_hits.txt:182:supabase/functions/send-aftercare-confirmation/index.ts:11:const SUPABASE_SERVICE_ROLE_KEY = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY') || '';
reports/prod-ready/secrets_rg_hits.txt:183:supabase/functions/send-aftercare-confirmation/index.ts:28:  'Access-Control-Allow-Headers': 'authorization, x-client-info, apikey, content-type',
reports/prod-ready/secrets_rg_hits.txt:184:supabase/functions/send-aftercare-confirmation/index.ts:176:    if (SUPABASE_SERVICE_ROLE_KEY) {
reports/prod-ready/secrets_rg_hits.txt:185:supabase/functions/send-aftercare-confirmation/index.ts:178:        const supabase = createClient(SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY);
reports/prod-ready/secrets_rg_hits.txt:186:supabase/functions/social-publisher-cron/index.ts:12:const SUPABASE_SERVICE_ROLE_KEY = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY') || '';
reports/prod-ready/secrets_rg_hits.txt:187:supabase/functions/social-publisher-cron/index.ts:17:  'Access-Control-Allow-Headers': 'authorization, x-client-info, apikey, content-type',
reports/prod-ready/secrets_rg_hits.txt:188:supabase/functions/social-publisher-cron/index.ts:96:    if (!SUPABASE_URL || !SUPABASE_SERVICE_ROLE_KEY) {
reports/prod-ready/secrets_rg_hits.txt:189:supabase/functions/social-publisher-cron/index.ts:100:    const supabase = createClient(SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY, { auth: { persistSession: false } });
reports/prod-ready/secrets_rg_hits.txt:190:supabase/functions/send-invoice-email/index.ts:15:const SUPABASE_SERVICE_ROLE_KEY = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY');
reports/prod-ready/secrets_rg_hits.txt:191:supabase/functions/send-invoice-email/index.ts:17:if (!SUPABASE_SERVICE_ROLE_KEY) {
reports/prod-ready/secrets_rg_hits.txt:192:supabase/functions/send-invoice-email/index.ts:18:  throw new Error('SUPABASE_SERVICE_ROLE_KEY is required');
reports/prod-ready/secrets_rg_hits.txt:193:supabase/functions/send-invoice-email/index.ts:33:    const supabase = createClient(SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY!);
reports/prod-ready/secrets_rg_hits.txt:194:supabase/functions/payments-create-checkout/index.ts:16:  'Access-Control-Allow-Headers': 'authorization, x-client-info, apikey, content-type',
reports/prod-ready/secrets_rg_hits.txt:195:supabase/functions/payments-create-checkout/index.ts:191:    const supabaseServiceKey = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY')!;
reports/prod-ready/secrets_rg_hits.txt:196:supabase/functions/ai-usage/index.ts:31:const SUPABASE_SERVICE_ROLE_KEY = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY');
reports/prod-ready/secrets_rg_hits.txt:197:supabase/functions/ai-usage/index.ts:33:if (!SUPABASE_SERVICE_ROLE_KEY) {
reports/prod-ready/secrets_rg_hits.txt:198:supabase/functions/ai-usage/index.ts:34:  throw new Error('SUPABASE_SERVICE_ROLE_KEY is required');
reports/prod-ready/secrets_rg_hits.txt:199:supabase/functions/ai-usage/index.ts:153:    const supabase = createClient(SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY!);
reports/prod-ready/secrets_rg_hits.txt:200:supabase/functions/whatsapp-send/index.ts:19:const SUPABASE_SERVICE_ROLE_KEY = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY');
reports/prod-ready/secrets_rg_hits.txt:201:supabase/functions/whatsapp-send/index.ts:23:if (!SUPABASE_SERVICE_ROLE_KEY) {
reports/prod-ready/secrets_rg_hits.txt:202:supabase/functions/whatsapp-send/index.ts:24:  throw new Error('SUPABASE_SERVICE_ROLE_KEY is required');
reports/prod-ready/secrets_rg_hits.txt:203:supabase/functions/whatsapp-send/index.ts:50:    const supabase = createClient(SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY!);
reports/prod-ready/secrets_rg_hits.txt:204:supabase/functions/student-activity-monitor/index.ts:5:const SUPABASE_SERVICE_ROLE_KEY = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY') || '';
reports/prod-ready/secrets_rg_hits.txt:205:supabase/functions/student-activity-monitor/index.ts:501:  if (token === SUPABASE_SERVICE_ROLE_KEY || (CRON_SECRET && token === CRON_SECRET)) {
reports/prod-ready/secrets_rg_hits.txt:206:supabase/functions/student-activity-monitor/index.ts:542:    if (!SUPABASE_URL || !SUPABASE_SERVICE_ROLE_KEY) {
reports/prod-ready/secrets_rg_hits.txt:207:supabase/functions/student-activity-monitor/index.ts:549:    const supabaseAdmin = createClient(SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY);
reports/prod-ready/secrets_rg_hits.txt:208:supabase/functions/sync-registration-to-edudash/index.ts:14:  'Access-Control-Allow-Headers': 'authorization, x-client-info, apikey, content-type',
reports/prod-ready/secrets_rg_hits.txt:209:supabase/functions/sync-registration-to-edudash/index.ts:530:    const supabaseServiceKey = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY')!;
reports/prod-ready/secrets_rg_hits.txt:210:supabase/functions/sync-registration-to-edudash/index.ts:985:        const edusiteServiceKey = Deno.env.get('EDUSITE_SUPABASE_SERVICE_ROLE_KEY');
reports/prod-ready/secrets_rg_hits.txt:211:supabase/functions/sync-registrations-from-edusite/index.ts:15:  'Access-Control-Allow-Headers': 'authorization, x-client-info, apikey, content-type',
reports/prod-ready/secrets_rg_hits.txt:212:supabase/functions/sync-registrations-from-edusite/index.ts:116:    const supabaseServiceKey = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY')!;
reports/prod-ready/secrets_rg_hits.txt:213:supabase/functions/sync-registrations-from-edusite/index.ts:118:    const edusiteServiceKey = Deno.env.get('EDUSITE_SUPABASE_SERVICE_ROLE_KEY');
reports/prod-ready/secrets_rg_hits.txt:214:supabase/functions/sync-registrations-from-edusite/index.ts:122:      console.warn('[sync-from-edusite] EDUSITE_SUPABASE_SERVICE_ROLE_KEY not set - sync feature disabled');
reports/prod-ready/secrets_rg_hits.txt:215:supabase/functions/generate-monthly-fees/index.ts:17:const SUPABASE_SERVICE_ROLE_KEY = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY')!;
reports/prod-ready/secrets_rg_hits.txt:216:supabase/functions/generate-monthly-fees/index.ts:203:    const isServiceRole = token === SUPABASE_SERVICE_ROLE_KEY;
reports/prod-ready/secrets_rg_hits.txt:217:supabase/functions/generate-monthly-fees/index.ts:221:    const supabase = createClient(SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY);
reports/prod-ready/secrets_rg_hits.txt:218:eas.json:17:        "DAILY_API_KEY": "${DAILY_API_KEY}",
reports/prod-ready/secrets_rg_hits.txt:219:eas.json:18:        "EXPO_PUBLIC_DAILY_API_KEY": "${DAILY_API_KEY}",
reports/prod-ready/secrets_rg_hits.txt:220:eas.json:39:        "DAILY_API_KEY": "${DAILY_API_KEY}",
reports/prod-ready/secrets_rg_hits.txt:221:eas.json:40:        "EXPO_PUBLIC_DAILY_API_KEY": "${DAILY_API_KEY}",
reports/prod-ready/secrets_rg_hits.txt:222:eas.json:93:        "DAILY_API_KEY": "${DAILY_API_KEY}",
reports/prod-ready/secrets_rg_hits.txt:223:eas.json:94:        "EXPO_PUBLIC_DAILY_API_KEY": "${DAILY_API_KEY}",
reports/prod-ready/secrets_rg_hits.txt:224:eas.json:152:        "DAILY_API_KEY": "${DAILY_API_KEY}",
reports/prod-ready/secrets_rg_hits.txt:225:eas.json:153:        "EXPO_PUBLIC_DAILY_API_KEY": "${DAILY_API_KEY}",
reports/prod-ready/secrets_rg_hits.txt:226:.gitignore:44:*SERVICE_ROLE_KEY*
reports/prod-ready/secrets_rg_hits.txt:227:.gitignore:45:*EDUSITE*KEY*
reports/prod-ready/secrets_rg_hits.txt:228:run-migrations.js:14:const SUPABASE_SERVICE_ROLE_KEY = process.env.SUPABASE_SERVICE_ROLE_KEY;
reports/prod-ready/secrets_rg_hits.txt:229:run-migrations.js:16:if (!SUPABASE_SERVICE_ROLE_KEY) {
reports/prod-ready/secrets_rg_hits.txt:230:run-migrations.js:17:  console.error('‚ùå SUPABASE_SERVICE_ROLE_KEY environment variable is required');
reports/prod-ready/secrets_rg_hits.txt:231:run-migrations.js:19:  console.log('export SUPABASE_SERVICE_ROLE_KEY="your-service-role-key"');
reports/prod-ready/secrets_rg_hits.txt:232:run-migrations.js:23:const supabase = createClient(SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY, {
reports/prod-ready/secrets_rg_hits.txt:233:run-migrations.js:55:        'apikey': SUPABASE_SERVICE_ROLE_KEY,
reports/prod-ready/secrets_rg_hits.txt:234:run-migrations.js:56:        'Authorization': `Bearer ${SUPABASE_SERVICE_ROLE_KEY}`,
reports/prod-ready/secrets_rg_hits.txt:235:web/scripts/setup-supabase-key.sh:4:# Helps you safely add the SUPABASE_SERVICE_ROLE_KEY to .env.local
reports/prod-ready/secrets_rg_hits.txt:236:web/scripts/setup-supabase-key.sh:33:if grep -q 'SUPABASE_SERVICE_ROLE_KEY="eyJ' "$ENV_FILE"; then
reports/prod-ready/secrets_rg_hits.txt:237:web/scripts/setup-supabase-key.sh:46:read -r SERVICE_ROLE_KEY
reports/prod-ready/secrets_rg_hits.txt:238:web/scripts/setup-supabase-key.sh:49:if [[ ! $SERVICE_ROLE_KEY =~ ^eyJ ]]; then
reports/prod-ready/secrets_rg_hits.txt:239:web/scripts/setup-supabase-key.sh:60:sed -i 's|SUPABASE_SERVICE_ROLE_KEY="YOUR_SERVICE_ROLE_KEY_HERE"|SUPABASE_SERVICE_ROLE_KEY="'$SERVICE_ROLE_KEY'"|g' "$ENV_FILE"
reports/prod-ready/secrets_rg_hits.txt:240:web/scripts/setup-supabase-key.sh:82:    echo "üì§ Adding SUPABASE_SERVICE_ROLE_KEY to Vercel..."
reports/prod-ready/secrets_rg_hits.txt:241:web/scripts/setup-supabase-key.sh:83:    vercel env add SUPABASE_SERVICE_ROLE_KEY production <<EOF
reports/prod-ready/secrets_rg_hits.txt:242:web/scripts/setup-supabase-key.sh:84:$SERVICE_ROLE_KEY
reports/prod-ready/secrets_rg_hits.txt:243:web/check-principals.mjs:10:const EDUSITE_SERVICE_KEY = '[REDACTED_JWT]';
reports/prod-ready/secrets_rg_hits.txt:244:web/check-principals.mjs:12:const edusiteClient = createClient(EDUSITE_URL, EDUSITE_SERVICE_KEY);
reports/prod-ready/secrets_rg_hits.txt:245:web/verify-tenant-sync.mjs:13:const EDUSITE_SERVICE_KEY = '[REDACTED_JWT]';
reports/prod-ready/secrets_rg_hits.txt:246:web/verify-tenant-sync.mjs:16:const edusiteClient = createClient(EDUSITE_URL, EDUSITE_SERVICE_KEY);
reports/prod-ready/secrets_rg_hits.txt:247:web/fix-zanele.mjs:13:const EDUSITE_SERVICE_KEY = '[REDACTED_JWT]';
reports/prod-ready/secrets_rg_hits.txt:248:web/fix-zanele.mjs:16:const edusiteClient = createClient(EDUSITE_URL, EDUSITE_SERVICE_KEY);
reports/prod-ready/secrets_rg_hits.txt:249:web/check-zanele.mjs:13:const EDUSITE_SERVICE_KEY = '[REDACTED_JWT]';
reports/prod-ready/secrets_rg_hits.txt:250:web/check-zanele.mjs:16:const edusiteClient = createClient(EDUSITE_URL, EDUSITE_SERVICE_KEY);
reports/prod-ready/secrets_rg_hits.txt:251:web/check-all-profiles.mjs:13:const EDUSITE_SERVICE_KEY = '[REDACTED_JWT]';
reports/prod-ready/secrets_rg_hits.txt:252:web/check-all-profiles.mjs:16:const edusiteClient = createClient(EDUSITE_URL, EDUSITE_SERVICE_KEY);
reports/prod-ready/secrets_rg_hits.txt:253:web/src/app/data-deletion/page.tsx:83:            'apikey': process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY || '',
reports/prod-ready/secrets_rg_hits.txt:254:tools/reset-user-password.js:7:const serviceKey = process.env.SUPABASE_SERVICE_ROLE_KEY;
reports/prod-ready/secrets_rg_hits.txt:255:tools/create-community-principal.js:12:const SUPABASE_SERVICE_KEY = process.env.SUPABASE_SERVICE_ROLE_KEY;
reports/prod-ready/secrets_rg_hits.txt:256:tools/create-community-principal.js:17:  console.error('   SUPABASE_SERVICE_ROLE_KEY');
reports/prod-ready/secrets_rg_hits.txt:257:lib/api/__tests__/educational-integration.test.ts:46:      process.env.SUPABASE_SERVICE_ROLE_KEY!,
reports/prod-ready/secrets_rg_hits.txt:258:tools/seed-with-service-role.js:6:const supabaseServiceKey = process.env.SUPABASE_SERVICE_ROLE_KEY || 
reports/prod-ready/secrets_rg_hits.txt:259:tools/seed-with-service-role.js:7:                          process.env.EXPO_PUBLIC_SUPABASE_SERVICE_ROLE_KEY ||
reports/prod-ready/secrets_rg_hits.txt:260:tools/seed-with-service-role.js:15:  console.log('üí° Make sure you have exported SUPABASE_SERVICE_ROLE_KEY');
reports/prod-ready/secrets_rg_hits.txt:261:tools/create-rpc-function.js:16:  process.env.SUPABASE_SERVICE_ROLE_KEY || process.env.EXPO_PUBLIC_SUPABASE_ANON_KEY
reports/prod-ready/secrets_rg_hits.txt:262:tools/fix-seat-data.js:7:const supabaseKey = process.env.SUPABASE_SERVICE_ROLE_KEY;
reports/prod-ready/secrets_rg_hits.txt:263:tools/fix-seat-data.js:10:  console.log('‚ùå SUPABASE_SERVICE_ROLE_KEY environment variable not set');
reports/prod-ready/secrets_rg_hits.txt:264:web/src/app/admin/registrations/page.tsx:92:      const edusiteproKey = process.env.NEXT_PUBLIC_EDUSITE_SUPABASE_ANON_KEY;
reports/prod-ready/secrets_rg_hits.txt:265:web/src/app/admin/registrations/page.tsx:220:      const edusiteproKey = process.env.NEXT_PUBLIC_EDUSITE_SUPABASE_ANON_KEY;
reports/prod-ready/secrets_rg_hits.txt:266:web/src/app/admin/registrations/page.tsx:263:      const edusiteproKey = process.env.NEXT_PUBLIC_EDUSITE_SUPABASE_ANON_KEY;
reports/prod-ready/secrets_rg_hits.txt:267:web/src/app/admin/registrations/[id]/page.tsx:59:      const edusiteproKey = process.env.NEXT_PUBLIC_EDUSITE_SUPABASE_ANON_KEY;
reports/prod-ready/secrets_rg_hits.txt:268:web/src/app/admin/registrations/[id]/page.tsx:104:      const edusiteproKey = process.env.NEXT_PUBLIC_EDUSITE_SUPABASE_ANON_KEY;
reports/prod-ready/secrets_rg_hits.txt:269:web/src/app/admin/registrations/[id]/page.tsx:142:      const edusiteproKey = process.env.NEXT_PUBLIC_EDUSITE_SUPABASE_ANON_KEY;
reports/prod-ready/secrets_rg_hits.txt:270:tools/fix-subscription-plan-now.js:7:const supabaseKey = process.env.SUPABASE_SERVICE_ROLE_KEY;
reports/prod-ready/secrets_rg_hits.txt:271:tools/fix-subscription-plan-now.js:10:  console.log('‚ùå SUPABASE_SERVICE_ROLE_KEY environment variable not set');
reports/prod-ready/secrets_rg_hits.txt:272:web/src/app/api/notifications/deployment/route.ts:21:  const serviceRoleKey = process.env.SUPABASE_SERVICE_ROLE_KEY;
reports/prod-ready/secrets_rg_hits.txt:273:web/src/app/api/notifications/deployment/route.ts:275:      process.env.FIREBASE_PRIVATE_KEY &&
reports/prod-ready/secrets_rg_hits.txt:274:web/src/app/api/notifications/deployment/route.ts:297:          'FIREBASE_PRIVATE_KEY',
reports/prod-ready/secrets_rg_hits.txt:275:web/src/app/api/notifications/subscribe/route.ts:45:      process.env.SUPABASE_SERVICE_ROLE_KEY!
reports/prod-ready/secrets_rg_hits.txt:276:web/src/app/api/notifications/subscribe/route.ts:171:      process.env.SUPABASE_SERVICE_ROLE_KEY || process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!
reports/prod-ready/secrets_rg_hits.txt:277:web/src/app/api/notifications/send/route.ts:16:const VAPID_PRIVATE_KEY = process.env.VAPID_PRIVATE_KEY || '';
reports/prod-ready/secrets_rg_hits.txt:278:web/src/app/api/notifications/send/route.ts:20:if (VAPID_PRIVATE_KEY) {
reports/prod-ready/secrets_rg_hits.txt:279:web/src/app/api/notifications/send/route.ts:21:  webpush.setVapidDetails(VAPID_SUBJECT, VAPID_PUBLIC_KEY, VAPID_PRIVATE_KEY);
reports/prod-ready/secrets_rg_hits.txt:280:web/src/app/api/notifications/send/route.ts:48:    if (!VAPID_PRIVATE_KEY) {
reports/prod-ready/secrets_rg_hits.txt:281:web/src/app/api/notifications/send/route.ts:50:        { error: 'Push notifications not configured (missing VAPID_PRIVATE_KEY)' },
reports/prod-ready/secrets_rg_hits.txt:282:web/src/app/api/notifications/send/route.ts:71:      process.env.SUPABASE_SERVICE_ROLE_KEY!
reports/prod-ready/secrets_rg_hits.txt:283:web/src/app/api/daily/token/route.ts:4:const DAILY_API_KEY = process.env.DAILY_API_KEY;
reports/prod-ready/secrets_rg_hits.txt:284:web/src/app/api/daily/token/route.ts:20:    if (!DAILY_API_KEY) {
reports/prod-ready/secrets_rg_hits.txt:285:web/src/app/api/daily/token/route.ts:21:      console.error('[Daily Token] DAILY_API_KEY is not configured. Please add your Daily.co API key to the environment variables.');
reports/prod-ready/secrets_rg_hits.txt:286:web/src/app/api/daily/token/route.ts:25:        code: 'DAILY_API_KEY_MISSING'
reports/prod-ready/secrets_rg_hits.txt:287:web/src/app/api/daily/token/route.ts:83:        'Authorization': `Bearer ${DAILY_API_KEY}`,
reports/prod-ready/secrets_rg_hits.txt:288:web/src/app/api/daily/rooms/route.ts:4:const DAILY_API_KEY = process.env.DAILY_API_KEY;
reports/prod-ready/secrets_rg_hits.txt:289:web/src/app/api/daily/rooms/route.ts:34:    if (!DAILY_API_KEY) {
reports/prod-ready/secrets_rg_hits.txt:290:web/src/app/api/daily/rooms/route.ts:35:      console.error('[Daily Rooms] DAILY_API_KEY is not configured. Please add your Daily.co API key to the environment variables.');
reports/prod-ready/secrets_rg_hits.txt:291:web/src/app/api/daily/rooms/route.ts:39:        code: 'DAILY_API_KEY_MISSING'
reports/prod-ready/secrets_rg_hits.txt:292:web/src/app/api/daily/rooms/route.ts:124:        'Authorization': `Bearer ${DAILY_API_KEY}`,
reports/prod-ready/secrets_rg_hits.txt:293:web/src/app/api/daily/rooms/route.ts:160:        errorMessage = 'Daily.co API key is invalid. Please check your DAILY_API_KEY environment variable.';
reports/prod-ready/secrets_rg_hits.txt:294:web/src/app/api/students/delete/route.ts:19:    const edusiteKey = process.env.NEXT_PUBLIC_EDUSITE_SUPABASE_ANON_KEY;
reports/prod-ready/secrets_rg_hits.txt:295:web/src/app/api/auth/sign-up-principal/route.ts:102:      process.env.SUPABASE_SERVICE_ROLE_KEY!,
reports/prod-ready/secrets_rg_hits.txt:296:web/src/app/api/registrations/documents/route.ts:131:    const serviceKey = process.env.SUPABASE_SERVICE_ROLE_KEY;
reports/prod-ready/secrets_rg_hits.txt:297:web/src/app/api/registrations/pop-upload/route.ts:46:    const serviceKey = process.env.SUPABASE_SERVICE_ROLE_KEY;
reports/prod-ready/secrets_rg_hits.txt:298:web/src/components/admin/RegistrationNotifications.tsx:50:      const edusiteproKey = process.env.NEXT_PUBLIC_EDUSITE_SUPABASE_ANON_KEY;
reports/prod-ready/secrets_rg_hits.txt:299:web/src/components/calls/DailyCallInterface.tsx:244:        if (errorData.code === 'DAILY_API_KEY_MISSING' || response.status === 503) {
reports/prod-ready/secrets_rg_hits.txt:300:web/src/components/calls/DailyCallInterface.tsx:285:        if (errorData.code === 'DAILY_API_KEY_MISSING' || response.status === 503) {
reports/prod-ready/secrets_rg_hits.txt:301:web/src/components/calls/DailyPrebuiltCall.tsx:74:        if (errorData.code === 'DAILY_API_KEY_MISSING' || response.status === 503) {
reports/prod-ready/secrets_rg_hits.txt:302:web/src/components/calls/GroupCallProvider.tsx:128:        if (errorData.code === 'DAILY_API_KEY_MISSING' || response.status === 503) {
reports/prod-ready/secrets_rg_hits.txt:303:web/src/components/calls/_archived/DailyCallInterface.tsx:201:        if (errorData.code === 'DAILY_API_KEY_MISSING' || response.status === 503) {
reports/prod-ready/secrets_rg_hits.txt:304:web/src/components/calls/_archived/DailyCallInterface.tsx:242:        if (errorData.code === 'DAILY_API_KEY_MISSING' || response.status === 503) {
reports/prod-ready/secrets_rg_hits.txt:305:web/src/components/calls/_archived/GroupCallProvider.tsx:128:        if (errorData.code === 'DAILY_API_KEY_MISSING' || response.status === 503) {
reports/prod-ready/secrets_rg_hits.txt:306:web/src/components/calls/StartLiveLessonPrebuilt.tsx:294:        if (errorData.code === 'DAILY_API_KEY_MISSING' || response.status === 503) {
reports/prod-ready/secrets_rg_hits.txt:307:web/fix-davecon-org-assignment.mjs:21:const EDUSITE_SERVICE_KEY = '[REDACTED_JWT]';
reports/prod-ready/secrets_rg_hits.txt:308:web/fix-davecon-org-assignment.mjs:24:const edusiteClient = createClient(EDUSITE_URL, EDUSITE_SERVICE_KEY);
lib/services/teacherRemovalService.ts:37:      'apikey': process.env.EXPO_PUBLIC_SUPABASE_ANON_KEY || '',
.git/logs/refs/heads/feature/updates:13:[REDACTED_KEY] [REDACTED_KEY] Marrion <feedback@edudashpro.org.za> 1765327259 +0200	commit: Security: Remove DAILY_API_KEY from app.json
.git/logs/HEAD:38:[REDACTED_KEY] [REDACTED_KEY] Marrion <feedback@edudashpro.org.za> 1765327259 +0200	commit: Security: Remove DAILY_API_KEY from app.json
scripts/working-cleanup.js:14:const supabaseServiceKey = process.env.SUPABASE_SERVICE_ROLE_KEY;
scripts/fix-dash-rls.ts:13:const supabaseServiceKey = process.env.SUPABASE_SERVICE_ROLE_KEY;
scripts/fix-dash-rls.ts:18:  if (!supabaseServiceKey) console.error('  - SUPABASE_SERVICE_ROLE_KEY');
.env.example:197:# SUPABASE_SERVICE_ROLE_KEY=your_service_role_key_here
scripts/verify-avatar-cleanup.js:14:const supabaseServiceKey = process.env.SUPABASE_SERVICE_ROLE_KEY;
scripts/reset-plans.js:6:  const key = process.env.SUPABASE_SERVICE_ROLE_KEY || process.env.EXPO_PUBLIC_SUPABASE_SERVICE_ROLE_KEY;
scripts/reset-plans.js:8:    console.error('Missing EXPO_PUBLIC_SUPABASE_URL or SUPABASE_SERVICE_ROLE_KEY');
scripts/test-lessons-fetch.ts:16:const SUPABASE_SERVICE_ROLE_KEY = process.env.SUPABASE_SERVICE_ROLE_KEY!;
scripts/test-lessons-fetch.ts:18:const supabase = createClient(SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY);
scripts/verify-caps-seeding.js:15:const SUPABASE_SERVICE_KEY = process.env.SUPABASE_SERVICE_ROLE_KEY || SUPABASE_ANON_KEY;
scripts/verify-caps-seeding.js:19:  console.error('Set EXPO_PUBLIC_SUPABASE_URL and SUPABASE_SERVICE_ROLE_KEY');
scripts/inspect-with-sql.ts:13:const SERVICE_ROLE_KEY = process.env.SUPABASE_SERVICE_ROLE_KEY || '';
scripts/inspect-with-sql.ts:15:if (!SERVICE_ROLE_KEY) {
scripts/inspect-with-sql.ts:16:  console.log('‚ùå SERVICE_ROLE_KEY environment variable is required');
scripts/inspect-with-sql.ts:21:const supabase = createClient(SUPABASE_URL, SERVICE_ROLE_KEY);
scripts/inspect-with-sql.ts:183:  console.log(`üîë Service Role Key Length: ${SERVICE_ROLE_KEY.length} characters`);
scripts/reset-migration-history.ts:13:const SERVICE_ROLE_KEY = process.env.SUPABASE_SERVICE_ROLE_KEY;
scripts/reset-migration-history.ts:15:if (!SERVICE_ROLE_KEY) {
scripts/reset-migration-history.ts:16:  console.log('‚ùå SERVICE_ROLE_KEY environment variable is required');
scripts/reset-migration-history.ts:20:const supabase = createClient(SUPABASE_URL, SERVICE_ROLE_KEY);
scripts/scan-external-services.mjs:56:    envVars: ['SUPABASE_URL', 'SUPABASE_ANON_KEY', 'SUPABASE_SERVICE_ROLE_KEY'],
scripts/caps-backfill-subjects.js:6:  const SERVICE = process.env.SUPABASE_SERVICE_KEY || process.env.SERVICE_ROLE_KEY || process.env.SUPABASE_SERVICE_ROLE_KEY;
scripts/seed-rich-lessons.ts:13:const SERVICE_ROLE_KEY = process.env.SUPABASE_SERVICE_ROLE_KEY!;
scripts/seed-rich-lessons.ts:19:const supabase = createClient(SUPABASE_URL, SERVICE_ROLE_KEY);
scripts/seed-english-maths-full.js:15:const supabaseKey = process.env.SUPABASE_SERVICE_ROLE_KEY;
scripts/verify-rls-working.ts:14:const SERVICE_ROLE_KEY = process.env.SUPABASE_SERVICE_ROLE_KEY;
scripts/verify-rls-working.ts:18:const serviceClient = SERVICE_ROLE_KEY ? createClient(SUPABASE_URL, SERVICE_ROLE_KEY) : null;
scripts/verify-lessons-migration.js:14:const supabaseServiceKey = process.env.SUPABASE_SERVICE_ROLE_KEY || process.env.EXPO_PUBLIC_SUPABASE_ANON_KEY;
scripts/ingest-caps-geography.js:18:const SERVICE_KEY = process.env.SUPABASE_SERVICE_ROLE_KEY || process.env.SUPABASE_SERVICE_KEY || '';
scripts/ingest-caps-geography.js:21:  console.error('‚ùå Missing Supabase admin env (SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY)');
scripts/verify-young-eagles-data.ts:12:const SUPABASE_SERVICE_KEY = process.env.SUPABASE_SERVICE_ROLE_KEY!;
scripts/invite-aftercare-parents.ts:25:const SUPABASE_SERVICE_ROLE_KEY = process.env.SUPABASE_SERVICE_ROLE_KEY || '';
scripts/invite-aftercare-parents.ts:223:  if (!SUPABASE_SERVICE_ROLE_KEY) {
scripts/invite-aftercare-parents.ts:224:    console.error('‚ùå Error: SUPABASE_SERVICE_ROLE_KEY environment variable is required');
scripts/invite-aftercare-parents.ts:226:    console.log('  export SUPABASE_SERVICE_ROLE_KEY="your-service-role-key"');
scripts/invite-aftercare-parents.ts:231:  const supabaseAdmin = createClient(SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY, {
scripts/fix-user-role.ts:14:const SUPABASE_SERVICE_ROLE_KEY = process.env.SUPABASE_SERVICE_ROLE_KEY;
scripts/fix-user-role.ts:16:if (!SUPABASE_URL || !SUPABASE_SERVICE_ROLE_KEY) {
scripts/fix-user-role.ts:19:  console.error('- SUPABASE_SERVICE_ROLE_KEY');
scripts/fix-user-role.ts:23:const supabase = createClient(SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY);
app.config.js:129:      DAILY_API_KEY: process.env.DAILY_API_KEY,
scripts/seed-grades-6-7-8.js:15:const supabaseKey = process.env.SUPABASE_SERVICE_ROLE_KEY;
scripts/security/apply_migration.js:13:const serviceKey = process.env.SUPABASE_SERVICE_ROLE_KEY;
scripts/security/extract_schema.js:14:const serviceKey = process.env.SUPABASE_SERVICE_ROLE_KEY;
scripts/security/extract_schema.js:18:  console.error('Need: EXPO_PUBLIC_SUPABASE_URL and SUPABASE_SERVICE_ROLE_KEY');
scripts/security/introspect_schema.js:14:const SUPABASE_SERVICE_ROLE_KEY = process.env.SUPABASE_SERVICE_ROLE_KEY;
scripts/security/introspect_schema.js:16:if (!SUPABASE_URL || !SUPABASE_SERVICE_ROLE_KEY) {
scripts/security/introspect_schema.js:19:    console.error('  SUPABASE_SERVICE_ROLE_KEY');
scripts/security/introspect_schema.js:24:const supabase = createClient(SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY);
scripts/security/simple_introspect.js:14:const SUPABASE_SERVICE_ROLE_KEY = process.env.SUPABASE_SERVICE_ROLE_KEY;
scripts/security/simple_introspect.js:16:if (!SUPABASE_URL || !SUPABASE_SERVICE_ROLE_KEY) {
scripts/security/simple_introspect.js:19:    console.error('  SUPABASE_SERVICE_ROLE_KEY');
scripts/security/simple_introspect.js:24:const supabase = createClient(SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY, {
scripts/setup-vapid-secrets.sh:42:    echo "  supabase secrets set VAPID_PRIVATE_KEY='<your-private-key>'"
scripts/setup-vapid-secrets.sh:55:    PRIVATE_KEY="qdFtH6ruCn2b__D7mT_vIAJKhK8i9mhYXVeISRKzGpM"
scripts/setup-vapid-secrets.sh:59:    supabase secrets set VAPID_PRIVATE_KEY="$PRIVATE_KEY"
scripts/seed-caps-textbook-mapping.js:15:const supabaseKey = process.env.SUPABASE_SERVICE_ROLE_KEY;
scripts/seed-caps-textbook-mapping.js:20:  console.error('   SUPABASE_SERVICE_ROLE_KEY:', supabaseKey ? '‚úì' : '‚úó');
scripts/deploy-financial-tables-migration.sh:20:if [ -z "$EXPO_PUBLIC_SUPABASE_URL" ] || [ -z "$SUPABASE_SERVICE_ROLE_KEY" ]; then
scripts/deploy-financial-tables-migration.sh:22:    echo "   Make sure EXPO_PUBLIC_SUPABASE_URL and SUPABASE_SERVICE_ROLE_KEY are set"
scripts/deploy-financial-tables-migration.sh:38:        -H "Authorization: Bearer $SUPABASE_SERVICE_ROLE_KEY" \
scripts/deploy-financial-tables-migration.sh:40:        -H "apikey: $SUPABASE_SERVICE_ROLE_KEY" \
scripts/deploy-financial-tables-migration.sh:77:    -H "Authorization: Bearer $SUPABASE_SERVICE_ROLE_KEY" \
scripts/deploy-financial-tables-migration.sh:79:    -H "apikey: $SUPABASE_SERVICE_ROLE_KEY" \
scripts/deploy-financial-tables-migration.sh:121:    -H "Authorization: Bearer $SUPABASE_SERVICE_ROLE_KEY" \
scripts/deploy-financial-tables-migration.sh:123:    -H "apikey: $SUPABASE_SERVICE_ROLE_KEY" \
scripts/deploy-financial-tables-migration.sh:147:    -H "Authorization: Bearer $SUPABASE_SERVICE_ROLE_KEY" \
scripts/deploy-financial-tables-migration.sh:149:    -H "apikey: $SUPABASE_SERVICE_ROLE_KEY" \
scripts/seed-ebooks.js:12:  process.env.SUPABASE_SERVICE_ROLE_KEY
scripts/fix-olivia-pending-request.js:20:const supabaseServiceKey = process.env.SUPABASE_SERVICE_ROLE_KEY;
scripts/fix-olivia-pending-request.js:25:  console.error('   SUPABASE_SERVICE_ROLE_KEY:', supabaseServiceKey ? '‚úì' : '‚úó');
scripts/diagnose-and-fix-rls.ts:10:const supabaseServiceKey = process.env.SUPABASE_SERVICE_ROLE_KEY;
scripts/diagnose-and-fix-rls.ts:14:  console.error('Need: EXPO_PUBLIC_SUPABASE_URL and SUPABASE_SERVICE_ROLE_KEY');
scripts/ensure-free-subscriptions.js:6:  const key = process.env.SUPABASE_SERVICE_ROLE_KEY || process.env.EXPO_PUBLIC_SUPABASE_SERVICE_ROLE_KEY;
scripts/ensure-free-subscriptions.js:8:    console.error('Missing EXPO_PUBLIC_SUPABASE_URL or SUPABASE_SERVICE_ROLE_KEY');
scripts/deploy-registration-sync.sh:29:echo "   EDUSITE_SUPABASE_SERVICE_ROLE_KEY=<get_from_edusite_dashboard>"
scripts/deploy-registration-sync.sh:34:echo "   supabase secrets set EDUSITE_SUPABASE_SERVICE_ROLE_KEY=<your_key>"
scripts/check-aftercare-registrations.ts:15:const supabaseKey = process.env.SUPABASE_SERVICE_ROLE_KEY || process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY;
scripts/check-aftercare-registrations.ts:20:  console.error('Required: SUPABASE_SERVICE_ROLE_KEY or NEXT_PUBLIC_SUPABASE_ANON_KEY');
scripts/check-aftercare-registrations.ts:24:  console.error('  SUPABASE_SERVICE_ROLE_KEY:', process.env.SUPABASE_SERVICE_ROLE_KEY ? '‚úÖ Set' : '‚ùå Missing');
scripts/apply-rls-setup.ts:20:console.log('‚ö†Ô∏è This script needs SERVICE_ROLE key to create RLS policies');
scripts/post-itn.js:4://   SUPABASE_SERVICE_ROLE_KEY=... node scripts/post-itn.js --scope=user
scripts/post-itn.js:28:  const s = createClient(SUPABASE_URL, process.env.SUPABASE_SERVICE_ROLE_KEY);
scripts/migrate-legacy-teachers.ts:19:const supabaseServiceKey = process.env.SUPABASE_SERVICE_ROLE_KEY!;
scripts/migrate-legacy-teachers.ts:23:  console.error('   Required: EXPO_PUBLIC_SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY');
scripts/report-rls-policies.ts:4:const SERVICE_ROLE_KEY = process.env.SUPABASE_SERVICE_ROLE_KEY || '';
scripts/report-rls-policies.ts:6:if (!SUPABASE_URL || !SERVICE_ROLE_KEY) {
scripts/report-rls-policies.ts:7:  console.error('Missing env: EXPO_PUBLIC_SUPABASE_URL and SUPABASE_SERVICE_ROLE_KEY');
scripts/report-rls-policies.ts:11:const sb = createClient(SUPABASE_URL, SERVICE_ROLE_KEY);
scripts/push-migration.sh:5:# Requires SUPABASE_SERVICE_ROLE_KEY environment variable
scripts/push-migration.sh:43:if [ -z "$SUPABASE_SERVICE_ROLE_KEY" ]; then
scripts/push-migration.sh:44:    echo -e "${RED}‚ùå Error: SUPABASE_SERVICE_ROLE_KEY environment variable not set${NC}"
scripts/push-migration.sh:47:    echo "export SUPABASE_SERVICE_ROLE_KEY=\"your_service_role_key_here\""
scripts/push-migration.sh:77:    -H "Authorization: Bearer $SUPABASE_SERVICE_ROLE_KEY" \
scripts/push-migration.sh:79:    -H "apikey: $SUPABASE_SERVICE_ROLE_KEY" \
scripts/push-migration.sh:109:        -H "Authorization: Bearer $SUPABASE_SERVICE_ROLE_KEY" \
scripts/push-migration.sh:111:        -H "apikey: $SUPABASE_SERVICE_ROLE_KEY" \
scripts/inspect-with-service-role.ts:15:const SERVICE_ROLE_KEY = process.env.SUPABASE_SERVICE_ROLE_KEY || process.argv[2];
scripts/inspect-with-service-role.ts:17:if (!SERVICE_ROLE_KEY) {
scripts/inspect-with-service-role.ts:18:  console.log('‚ùå SERVICE_ROLE_KEY is required');
scripts/inspect-with-service-role.ts:19:  console.log('Usage: tsx scripts/inspect-with-service-role.ts <SERVICE_ROLE_KEY>');
scripts/inspect-with-service-role.ts:20:  console.log('Or set SUPABASE_SERVICE_ROLE_KEY environment variable');
scripts/inspect-with-service-role.ts:25:const supabase = createClient(SUPABASE_URL, SERVICE_ROLE_KEY);
scripts/test-user-lesson-access.ts:15:const SUPABASE_SERVICE_ROLE_KEY = process.env.SUPABASE_SERVICE_ROLE_KEY!;
scripts/test-user-lesson-access.ts:17:const adminClient = createClient(SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY);
scripts/extract-caps-content.mjs:6:const SERVICE_KEY = process.env.SUPABASE_SERVICE_KEY || process.env.SERVICE_ROLE_KEY || process.env.SUPABASE_SERVICE_ROLE_KEY || process.env.SUPABASE_SERVICE_TOKEN || ''
scripts/extract-caps-content.mjs:9:  console.error('‚ùå Missing SUPABASE_URL or service role key (SERVICE_ROLE_KEY)')
scripts/seed-textbooks.js:11:const supabaseKey = process.env.SUPABASE_SERVICE_ROLE_KEY;
scripts/seed-textbooks.js:14:  console.error('‚ùå Missing SUPABASE_URL or SUPABASE_SERVICE_ROLE_KEY');
scripts/fix-hlorisom-member-type.mjs:12:const supabaseKey = process.env.SUPABASE_SERVICE_ROLE_KEY || '';
scripts/fix-hlorisom-member-type.mjs:15:  console.error('‚ùå SUPABASE_SERVICE_ROLE_KEY not found in environment variables');
scripts/setup-avatars-bucket.ts:9:const supabaseServiceKey = process.env.SUPABASE_SERVICE_ROLE_KEY;
scripts/setup-avatars-bucket.ts:12:  console.error('Missing environment variables. Please ensure EXPO_PUBLIC_SUPABASE_URL and SUPABASE_SERVICE_ROLE_KEY are set.');
scripts/verify-king-org-assignment.mjs:4:const supabaseKey = process.env.SUPABASE_SERVICE_ROLE_KEY || '';
scripts/publish-lessons.js:14:const supabaseServiceKey = process.env.SUPABASE_SERVICE_ROLE_KEY;
index.ts.deno-backup:114:const SUPABASE_SERVICE_ROLE_KEY = Deno.env.get('SUPABASE_SERVICE_ROLE_KEY')!;
index.ts.deno-backup:118:const supabase = createClient(SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY);
index.ts.deno-backup:1772:  'Access-Control-Allow-Headers': 'authorization, x-client-info, apikey, content-type',
scripts/test-lesson-fetching.js:14:const supabaseServiceKey = process.env.SUPABASE_SERVICE_ROLE_KEY || process.env.EXPO_PUBLIC_SUPABASE_ANON_KEY;
scripts/test-lesson-fetching.js:18:  console.log('Required: EXPO_PUBLIC_SUPABASE_URL and SUPABASE_SERVICE_ROLE_KEY');
test-password-reset.mjs:4:const edudashServiceKey = process.env.SUPABASE_SERVICE_ROLE_KEY || 'your-service-role-key';
scripts/debug-user-lessons.ts:14:const SUPABASE_SERVICE_ROLE_KEY = process.env.SUPABASE_SERVICE_ROLE_KEY!;
scripts/debug-user-lessons.ts:16:const supabase = createClient(SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY);
scripts/apply-lessons-rls-fix.ts:14:const SUPABASE_SERVICE_ROLE_KEY = process.env.SUPABASE_SERVICE_ROLE_KEY!;
scripts/apply-lessons-rls-fix.ts:16:const supabase = createClient(SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY);
scripts/setup-jwt-claims.js:14:const supabaseServiceKey = process.env.SUPABASE_SERVICE_ROLE_KEY;
scripts/setup-jwt-claims.js:25:  console.error('‚ùå Missing SUPABASE_SERVICE_ROLE_KEY or EXPO_PUBLIC_SUPABASE_ANON_KEY');
scripts/check-winnie-temp.ts:4:const SERVICE_ROLE_KEY = process.env.SUPABASE_SERVICE_ROLE_KEY || '';
scripts/check-winnie-temp.ts:6:if (!SERVICE_ROLE_KEY || !SUPABASE_URL) {
scripts/check-winnie-temp.ts:7:  console.error('Missing SUPABASE_SERVICE_ROLE_KEY or EXPO_PUBLIC_SUPABASE_URL');
scripts/check-winnie-temp.ts:11:const supabase = createClient(SUPABASE_URL, SERVICE_ROLE_KEY);
scripts/fix-young-eagles-teacher.ts:14:const supabaseServiceKey = process.env.SUPABASE_SERVICE_ROLE_KEY!;
scripts/fix-young-eagles-teacher.ts:18:  console.error('   Required: EXPO_PUBLIC_SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY');
scripts/fix-lesson-ownership.js:14:const supabaseServiceKey = process.env.SUPABASE_SERVICE_ROLE_KEY;
scripts/verify-app-schema.ts:4:const SERVICE_ROLE_KEY = process.env.SUPABASE_SERVICE_ROLE_KEY || '';
scripts/verify-app-schema.ts:6:if (!SUPABASE_URL || !SERVICE_ROLE_KEY) {
scripts/verify-app-schema.ts:7:  console.error('Missing env: EXPO_PUBLIC_SUPABASE_URL and SUPABASE_SERVICE_ROLE_KEY are required');
scripts/verify-app-schema.ts:11:const sb = createClient(SUPABASE_URL, SERVICE_ROLE_KEY);
scripts/extract-caps-content.js:6:const SERVICE_KEY = process.env.SUPABASE_SERVICE_KEY || process.env.SERVICE_ROLE_KEY || process.env.SUPABASE_SERVICE_ROLE_KEY || process.env.SUPABASE_SERVICE_TOKEN || '';
scripts/backfill/backfill_teacher_seats.ts:66:const SERVICE_ROLE_KEY = process.env.SUPABASE_SERVICE_ROLE_KEY;
scripts/backfill/backfill_teacher_seats.ts:68:if (!SUPABASE_URL || !SERVICE_ROLE_KEY) {
scripts/backfill/backfill_teacher_seats.ts:71:  console.error('   SUPABASE_SERVICE_ROLE_KEY');
scripts/backfill/backfill_teacher_seats.ts:72:  console.error('\nSet SUPABASE_SERVICE_ROLE_KEY as environment variable or pass as argument');
scripts/backfill/backfill_teacher_seats.ts:77:const supabase = createClient(SUPABASE_URL, SERVICE_ROLE_KEY);
scripts/reset-password.mjs:12:const serviceKeyMatch = envContent.match(/SUPABASE_SERVICE_ROLE_KEY=(.+)/);
scripts/reset-password.mjs:16:  console.error('‚ùå SUPABASE_SERVICE_ROLE_KEY not found in .env.local');
scripts/diagnose-user-lesson-access.ts:14:const SUPABASE_SERVICE_ROLE_KEY = process.env.SUPABASE_SERVICE_ROLE_KEY!;
scripts/diagnose-user-lesson-access.ts:16:const supabase = createClient(SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY);
scripts/find-user.ts:13:const SUPABASE_SERVICE_ROLE_KEY = process.env.SUPABASE_SERVICE_ROLE_KEY!;
scripts/find-user.ts:15:const supabase = createClient(SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY);
